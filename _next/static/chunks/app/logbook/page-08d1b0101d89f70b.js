(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[42],{3345:(e,t,r)=>{"use strict";r.d(t,{xz:()=>n});var a=r(2115);let s="station-configs";function l(){try{let e="__ls_test__";return localStorage.setItem(e,"1"),localStorage.removeItem(e),!0}catch(e){return!1}}function n(){let[e,t]=(0,a.useState)([]);(0,a.useEffect)(()=>{t(function(){if(!l())return console.warn("localStorage not available — configs will not be persisted."),[];try{let e=localStorage.getItem(s);if(!e)return[];let t=JSON.parse(e);if(!Array.isArray(t))return console.warn("Corrupt config data — resetting to empty state."),[];return t}catch(e){return console.warn("Failed to parse config data — resetting to empty state."),[]}}())},[]);let r=(0,a.useRef)(!1);(0,a.useEffect)(()=>{if(!r.current){r.current=!0;return}if(l())try{localStorage.setItem(s,JSON.stringify(e))}catch(e){console.warn("Failed to save configs to localStorage (storage may be full).")}},[e]);let n=(0,a.useCallback)(r=>{let{configs:a,newId:s}=function(e,t){let r=new Date().toISOString(),a="undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():"cfg-".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,9));return{configs:[...e,{...t,id:a,createdAt:r,updatedAt:r}],newId:a}}(e,r);return t(a),s},[e]),o=(0,a.useCallback)((e,r)=>{t(t=>t.map(t=>t.id===e?{...t,...r,id:t.id,createdAt:t.createdAt,updatedAt:new Date().toISOString()}:t))},[]),d=(0,a.useCallback)(e=>{t(t=>t.filter(t=>t.id!==e))},[]),i=(0,a.useCallback)(t=>e.find(e=>e.id===t),[e]),c=(0,a.useCallback)(t=>({metadata:{exportDate:new Date().toISOString(),version:"1.0.0",totalEquipment:t.length,totalConfigs:e.length},equipment:t,configurations:e}),[e]);return{configs:e,addConfig:n,updateConfig:o,deleteConfig:d,getConfig:i,exportAll:c}}},6754:(e,t,r)=>{Promise.resolve().then(r.bind(r,9361))},7948:(e,t,r)=>{"use strict";r.r(t),r.d(t,{calculateBand:()=>d,calculateBandPlan:()=>c,calculateSubmode:()=>i,contactToADIFFormat:()=>E,contactToExportFormat:()=>h,createActivation:()=>b,downloadADIF:()=>B,downloadJSON:()=>y,formDataToContact:()=>u,formatDate:()=>N,formatDateToADIF:()=>F,formatTimeToADIF:()=>_,formatTimeWithTimezone:()=>w,generateADIFFile:()=>U,generateExportData:()=>p,isValidADIFBand:()=>R,isValidADIFDate:()=>L,isValidADIFMode:()=>q,isValidADIFTime:()=>M,loadActivationsFromStorage:()=>T,loadContactsFromStorage:()=>v,loadCurrentActivation:()=>D,loadLastContactData:()=>A,loadNextQslNumber:()=>j,parseRST:()=>g,saveActivationsToStorage:()=>C,saveContactsToStorage:()=>f,saveCurrentActivation:()=>I,saveLastContactData:()=>S,saveNextQslNumber:()=>k,validateADIFField:()=>O,validateADIFFile:()=>Q,validateADIFRecord:()=>P,validateActivationForm:()=>x,validateCallsign:()=>a,validateContactForm:()=>m,validateDate:()=>o,validateFrequency:()=>s,validateRST:()=>n,validateTime:()=>l});let a=e=>/^[A-Z0-9]{1,3}[0-9][A-Z0-9]{0,3}(\/[A-Z0-9]+)?$/i.test(e.trim()),s=e=>[[1.8,2],[3.5,4],[7,7.3],[14,14.35],[21,21.45],[28,29.7],[50,54],[144,148],[430,440]].some(t=>{let[r,a]=t;return e>=r&&e<=a}),l=e=>/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(e),n=(e,t)=>"CW"===t||"FT8"===t||"FT4"===t||"PSK31"===t||"RTTY"===t?/^[1-5][1-9N][1-9N]$/.test(e):/^[1-5][1-9N][1-9N]?$/.test(e),o=(e,t,r)=>{let a=new Date(r||new Date().getFullYear(),t-1,e),s=new Date;return a.getDate()===e&&a.getMonth()===t-1&&a<=s},d=e=>e>=1.8&&e<=2?"160m":e>=3.5&&e<=4?"80m":e>=7&&e<=7.3?"40m":e>=14&&e<=14.35?"20m":e>=21&&e<=21.45?"15m":e>=28&&e<=29.7?"10m":e>=50&&e<=54?"6m":e>=144&&e<=148?"2m":e>=430&&e<=440?"70cm":"Unknown",i=(e,t)=>"SSB"===e?t<10?"LSB":"USB":e,c=(e,t)=>(d(e),"CW"===t)?"CW":["FT8","FT4","PSK31","RTTY","MFSK"].includes(t)?"Digital":["SSB","FM","AM"].includes(t)?"Phone":"Mixed",g=e=>{let t=e.split(""),r=parseInt(t[0])||5;return{readability:r,signal_strength:"N"===t[1]?9:parseInt(t[1])||9,tone:t[2]?"N"===t[2]?9:parseInt(t[2]):void 0}},x=e=>{let t=[];return e.type||t.push({field:"type",isValid:!1,message:"logbook.requiredField"}),e.reason||t.push({field:"reason",isValid:!1,message:"logbook.requiredField"}),t},m=e=>{let t=[];if(e.callsign?a(e.callsign)||t.push({field:"callsign",isValid:!1,message:"logbook.validation.invalidCallsign"}):t.push({field:"callsign",isValid:!1,message:"logbook.requiredField"}),e.frequency){let r=parseFloat(e.frequency);(isNaN(r)||!s(r))&&t.push({field:"frequency",isValid:!1,message:"logbook.validation.invalidFrequency"})}else t.push({field:"frequency",isValid:!1,message:"logbook.requiredField"});return e.rst?n(e.rst,e.mode)||t.push({field:"rst",isValid:!1,message:"logbook.validation.invalidRst"}):t.push({field:"rst",isValid:!1,message:"logbook.requiredField"}),e.mode||t.push({field:"mode",isValid:!1,message:"logbook.requiredField"}),t},b=e=>{let t=new Date,r={id:"activation_".concat(Date.now()),type:e.type,reason:e.reason,startDate:t.toISOString(),isActive:!0,contactCount:0,createdAt:t.toISOString()};return e.stationConfigId&&(r.stationConfigId=e.stationConfigId),r},u=(e,t,r)=>{let a=new Date,s=parseFloat(e.frequency);return{id:"contact_".concat(t,"_").concat(Date.now()),qslNumber:t,day:a.getDate(),month:a.getMonth()+1,year:a.getFullYear(),callsign:e.callsign.toUpperCase(),utcTime:a.toTimeString().slice(0,5),frequency:s,rst:e.rst.toUpperCase(),mode:e.mode,type:r.type,reason:r.reason,activationId:r.id,createdAt:a.toISOString()}},h=e=>{let t=e.frequency,r=d(t),a=i(e.mode,t),s=c(t,e.mode),l=g(e.rst),n="".concat(e.year,"-").concat(e.month.toString().padStart(2,"0"),"-").concat(e.day.toString().padStart(2,"0")),o="".concat(n,"T").concat(e.utcTime,":00.000Z");return{qsl_number:e.qslNumber,contact_date:{day:e.day,month:e.month,year:e.year,iso_date:n},utc_time:e.utcTime,datetime_utc:o,callsign:e.callsign,frequency:{mhz:t,band:r,band_plan:s},signal_report:{rst_sent:e.rst,rst_received:e.rst,...l},transmission:{mode:e.mode,submode:a,power_watts:void 0},event_info:{type:e.type,name:e.reason,category:"contest"===e.type?"Contest":"specialEvent"===e.type?"Special Event":"Regular"},qsl_info:{qsl_sent:!1,qsl_received:!1,qsl_via:void 0},notes:"",created_at:e.createdAt}},p=e=>{let t=new Date,r=e.map(h),a={},s={},l={},n=new Set;e.forEach(e=>{let t=d(e.frequency);a[t]=(a[t]||0)+1,s[e.mode]=(s[e.mode]||0)+1,l[e.type]=(l[e.type]||0)+1,n.add(e.callsign)});let o=[...e].sort((e,t)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()),i=o.length>0?o[0].createdAt.split("T")[0]:t.toISOString().split("T")[0],c=o.length>0?o[o.length-1].createdAt.split("T")[0]:t.toISOString().split("T")[0];return{metadata:{version:"1.0",exported_at:t.toISOString(),total_contacts:e.length,export_type:"full",software:"Radioclub Logbook",operator_notes:"Exportaci\xf3n completa del libro de guardia"},session_info:{start_date:i,end_date:c,total_sessions:1,unique_callsigns:n.size,bands_used:Object.keys(a),modes_used:Object.keys(s)},contacts:r,statistics:{contacts_by_band:a,contacts_by_mode:s,contacts_by_type:l,unique_callsigns:n.size,countries_worked:["Argentina"],best_dx:void 0}}},y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"logbook_export.json",r=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=URL.createObjectURL(r),s=document.createElement("a");s.href=a,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)},f=e=>{try{localStorage.setItem("logbook_contacts",JSON.stringify(e))}catch(e){console.error("Error saving contacts to localStorage:",e)}},v=()=>{try{{let e=localStorage.getItem("logbook_contacts");return e?JSON.parse(e):[]}}catch(e){return console.error("Error loading contacts from localStorage:",e),[]}},k=e=>{try{localStorage.setItem("logbook_next_qsl",e.toString())}catch(e){console.error("Error saving QSL number to localStorage:",e)}},j=()=>{try{{let e=localStorage.getItem("logbook_next_qsl");return e?parseInt(e):1}}catch(e){return console.error("Error loading QSL number from localStorage:",e),1}},N=(e,t,r,a)=>{let s=e.toString().padStart(2,"0"),l=t.toString().padStart(2,"0"),n=r.toString();return"es"===a?"".concat(s,"/").concat(l,"/").concat(n):"".concat(l,"/").concat(s,"/").concat(n)},w=e=>{Intl.DateTimeFormat().resolvedOptions().timeZone;let t=new Date().getTimezoneOffset(),r=Math.floor(Math.abs(t)/60),a=Math.abs(t)%60,s="GMT".concat(t<=0?"+":"-").concat(r).concat(a>0?":"+a.toString().padStart(2,"0"):"");return"".concat(e,"(").concat(s,")")},S=e=>{try{{let t={frequency:e.frequency,rst:e.rst,mode:e.mode};localStorage.setItem("logbook_last_contact",JSON.stringify(t))}}catch(e){console.error("Error saving last contact data:",e)}},A=()=>{try{{let e=localStorage.getItem("logbook_last_contact");return e?JSON.parse(e):{}}}catch(e){return console.error("Error loading last contact data:",e),{}}},C=e=>{try{localStorage.setItem("logbook_activations",JSON.stringify(e))}catch(e){console.error("Error saving activations to localStorage:",e)}},T=()=>{try{{let e=localStorage.getItem("logbook_activations");return e?JSON.parse(e):[]}}catch(e){return console.error("Error loading activations from localStorage:",e),[]}},I=e=>{try{e?localStorage.setItem("logbook_current_activation",JSON.stringify(e)):localStorage.removeItem("logbook_current_activation")}catch(e){console.error("Error saving current activation:",e)}},D=()=>{try{{let e=localStorage.getItem("logbook_current_activation");return e?JSON.parse(e):null}}catch(e){return console.error("Error loading current activation:",e),null}},E=e=>{let t=[];t.push({name:"CALL",value:e.callsign}),t.push({name:"QSO_DATE",value:F(e.day,e.month,e.year),type:"D"}),t.push({name:"TIME_ON",value:_(e.utcTime),type:"T"}),t.push({name:"BAND",value:d(e.frequency)}),t.push({name:"MODE",value:e.mode}),t.push({name:"FREQ",value:e.frequency.toString(),type:"N"}),t.push({name:"RST_SENT",value:e.rst}),t.push({name:"RST_RCVD",value:e.rst}),e.type&&e.reason&&(t.push({name:"CONTEST_ID",value:e.reason.replace(/\s+/g,"_").toUpperCase()}),t.push({name:"COMMENT",value:"".concat(e.type,": ").concat(e.reason)})),t.push({name:"QSL_SENT",value:"N"}),t.push({name:"QSL_RCVD",value:"N"}),t.push({name:"STATION_CALLSIGN",value:"LU9ANG"}),t.push({name:"OPERATOR",value:"LU9ANG"});let r="";return t.forEach(e=>{let t=e.value.length,a=e.type?":".concat(e.type):"";r+="<".concat(e.name,":").concat(t).concat(a,">").concat(e.value)}),r+="<EOR>\n"},F=(e,t,r)=>{let a=r.toString(),s=t.toString().padStart(2,"0"),l=e.toString().padStart(2,"0");return"".concat(a).concat(s).concat(l)},_=e=>e.replace(":",""),O=e=>{if(!e.name||0===e.name.length||e.name.length>10||!/^[A-Z][A-Z0-9_]*$/i.test(e.name))return!1;switch(e.name.toUpperCase()){case"CALL":case"STATION_CALLSIGN":case"OPERATOR":return a(e.value);case"QSO_DATE":return/^\d{8}$/.test(e.value)&&L(e.value);case"TIME_ON":case"TIME_OFF":return/^(\d{4}|\d{6})$/.test(e.value)&&M(e.value);case"FREQ":let t=parseFloat(e.value);return!isNaN(t)&&t>0;case"BAND":return R(e.value);case"MODE":return q(e.value);case"RST_SENT":case"RST_RCVD":return/^[1-5][1-9N][1-9N]?$/.test(e.value);case"QSL_SENT":case"QSL_RCVD":return["Y","N","R","Q","I"].includes(e.value.toUpperCase());default:return!0}},L=e=>{if(8!==e.length)return!1;let t=parseInt(e.substring(0,4)),r=parseInt(e.substring(4,6)),a=parseInt(e.substring(6,8));if(t<1930||t>new Date().getFullYear()||r<1||r>12||a<1||a>31)return!1;let s=new Date(t,r-1,a);return s.getDate()===a&&s.getMonth()===r-1&&s.getFullYear()===t&&s<=new Date},M=e=>{if(4!==e.length&&6!==e.length)return!1;let t=parseInt(e.substring(0,2)),r=parseInt(e.substring(2,4));if(t<0||t>23||r<0||r>59)return!1;if(6===e.length){let t=parseInt(e.substring(4,6));if(t<0||t>59)return!1}return!0},R=e=>["2190m","630m","560m","160m","80m","60m","40m","30m","20m","17m","15m","12m","10m","6m","4m","2m","1.25m","70cm","33cm","23cm","13cm","9cm","6cm","3cm","1.25cm","6mm","4mm","2.5mm","2mm","1mm"].includes(e),q=e=>["AM","AMTORFEC","ASCI","ATV","CHIP64","CHIP128","CLO","CONTESTI","CW","DSTAR","DOMINO","DOMINOF","FAX","FM","FMHELL","FSK31","FSK441","FT4","FT8","GTOR","HELL","HELL80","HFSK","ISCAT","JT44","JT4A","JT4B","JT4C","JT4D","JT4E","JT4F","JT4G","JT65","JT9","JT6M","MFSK8","MFSK16","MT63","OLIVIA","OPERA","PAC","PAC2","PAC3","PAX","PAX2","PCW","PKT","PSK10","PSK2K","PSK31","PSK63","PSK63F","PSK125","PSKAM10","PSKAM31","PSKAM50","PSKFEC31","PSKHELL","Q15","QPSK31","QPSK63","QPSK125","ROS","RTTY","RTTYM","SSB","SSTV","THRB","THOR","THRBX","TOR","V4","VOI","WINMOR","WSPR"].includes(e.toUpperCase()),P=e=>{let t,r=[];e.trim().endsWith("<EOR>")||r.push("ADIF record must end with <EOR>");let a=/<([A-Z_][A-Z0-9_]*):(\d+)(?::([ABDEILMSGNT]))?>(.*?)(?=<|$)/gi,s=[];for(;null!==(t=a.exec(e));){let[,e,a,l,n]=t,o=parseInt(a);n.length!==o&&r.push("Field ".concat(e,": declared length ").concat(o," but actual length is ").concat(n.length)),s.push({name:e,value:n,type:l})}return s.forEach(e=>{O(e)||r.push("Invalid field: ".concat(e.name,' = "').concat(e.value,'"'))}),["CALL","QSO_DATE","TIME_ON","BAND","MODE"].forEach(e=>{s.some(t=>t.name.toUpperCase()===e)||r.push("Missing required field: ".concat(e))}),{isValid:0===r.length,errors:r}},U=(e,t)=>{let r=new Date,a="";return a+="Amateur Radio Data Interchange Format export from QSL Apps Logbook\n",a+="Generated: ".concat(r.toISOString(),"\n"),a+="Software: ".concat((null==t?void 0:t.programId)||"QSL Apps Logbook"," ").concat((null==t?void 0:t.version)||"1.0","\n"),a+="Operator: ".concat((null==t?void 0:t.operator)||"LU9ANG","\n"),a+="Total QSOs: ".concat(e.length,"\n"),a+="\n",a+="<ADIF_VER:5>3.1.2\n",a+="<PROGRAMID:17>QSL Apps Logbook\n",a+="<PROGRAMVERSION:3>1.0\n",a+="<EOH>\n\n",e.forEach(e=>{a+=E(e)}),a},B=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"logbook_export.adi",r=arguments.length>2?arguments[2]:void 0,a=U(e,r),s=Q(a);s.isValid||console.warn("ADIF validation warnings:",s.errors);let l=new Blob([a],{type:"text/plain;charset=utf-8"}),n=URL.createObjectURL(l),o=document.createElement("a");o.href=n,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(n)},Q=e=>{let t,r=[];e.includes("<EOH>")||r.push("ADIF file must contain header ending with <EOH>");let a=e.split("<EOH>");if(2!==a.length)return r.push("ADIF file must have exactly one <EOH> marker"),{isValid:!1,errors:r};let[s,l]=a,n=/<([A-Z_][A-Z0-9_]*):(\d+)>(.*?)(?=<|$)/gi;for(;null!==(t=n.exec(s));){let[,e,a,s]=t,l=parseInt(a);s.length!==l&&r.push("Header field ".concat(e,": declared length ").concat(l," but actual length is ").concat(s.length))}return l.split("<EOR>").filter(e=>e.trim().length>0).forEach((e,t)=>{let a=P(e.trim()+"<EOR>");a.isValid||r.push("Record ".concat(t+1,": ").concat(a.errors.join(", ")))}),{isValid:0===r.length,errors:r}}},8154:(e,t,r)=>{"use strict";r.d(t,{LanguageToggle:()=>n});var a=r(5155);r(2115);var s=r(7835),l=r(3775);let n=()=>{let{language:e,setLanguage:t,t:r}=(0,l.o)();return(0,a.jsxs)("button",{onClick:()=>{t("es"===e?"en":"es")},className:"flex items-center gap-2 px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",title:r("language.toggle"),children:[(0,a.jsx)(s.A,{className:"h-4 w-4 text-gray-600 dark:text-gray-300"}),(0,a.jsx)("span",{className:"font-medium text-sm text-gray-700 dark:text-gray-300",children:r("language.current")})]})}},8621:(e,t,r)=>{"use strict";r.d(t,{v:()=>c});var a=r(5155),s=r(2115),l=r(8883),n=r(5196),o=r(2486),d=r(5339),i=r(3775);let c=e=>{let{className:t=""}=e,{t:r}=(0,i.o)(),[c,g]=(0,s.useState)(""),[x,m]=(0,s.useState)(""),[b,u]=(0,s.useState)(!1),[h,p]=(0,s.useState)("idle"),[y,f]=(0,s.useState)(""),v=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),k=e=>/^[A-Z]{1,3}[0-9][A-Z]{1,4}(\/[A-Z0-9]+)?$/.test(e.toUpperCase()),j=async(e,t)=>{try{let r=t&&t.trim()?t.trim().toUpperCase():e.split("@")[0],a={email:e,listIds:[1],attributes:{FNAME:r,...t&&t.trim()&&{CALLSIGN:t.trim().toUpperCase()}},updateEnabled:!1},s=await fetch("".concat("https://api.brevo.com/v3","/contacts"),{method:"POST",headers:{"Content-Type":"application/json","api-key":"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"},body:JSON.stringify(a)}),l=await s.json();if(s.ok||"duplicate_parameter"===l.code)return{success:!0};return{success:!1,error:l.message||"Subscription failed"}}catch(e){return console.error("Newsletter subscription error:",e),{success:!1,error:"Network error"}}},N=async e=>{if(e.preventDefault(),!c.trim()||!v(c)){p("error"),f(r("newsletter.invalidEmail"));return}u(!0),p("idle"),f("");let t=await j(c,x.trim()||void 0);t.success?(p("success"),g(""),m("")):(p("error"),f(t.error||r("newsletter.error"))),u(!1),setTimeout(()=>{p("idle"),f("")},t.success?3e3:5e3)};return(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800 ".concat(t),children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:gap-8",children:[(0,a.jsxs)("div",{className:"flex-1 text-center lg:text-left mb-6 lg:mb-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center lg:justify-start gap-3 mb-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:(0,a.jsx)(l.A,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:r("newsletter.title")})]}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:r("newsletter.subtitle")})]}),(0,a.jsx)("div",{className:"flex-1 lg:max-w-lg",children:(0,a.jsxs)("form",{onSubmit:N,className:"space-y-4",children:["success"===h?(0,a.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3 text-green-600 dark:text-green-400",children:[(0,a.jsx)(n.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"font-semibold",children:r("newsletter.success")})]})}):(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email *"}),(0,a.jsx)("input",{id:"email",type:"email",value:c,onChange:e=>g(e.target.value),placeholder:r("newsletter.placeholder"),disabled:b,className:"w-full px-3 py-2 text-sm rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors disabled:opacity-50 disabled:cursor-not-allowed"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"callsign",className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("newsletter.callsignLabel")}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{id:"callsign",type:"text",value:x,onChange:e=>m(e.target.value.toUpperCase()),placeholder:r("newsletter.callsignPlaceholder"),disabled:b,className:"w-full px-3 py-2 text-sm rounded-lg border bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:border-transparent transition-colors disabled:opacity-50 disabled:cursor-not-allowed ".concat(x.trim()&&!k(x.trim())?"border-yellow-400 dark:border-yellow-500 focus:ring-yellow-500":x.trim()&&k(x.trim())?"border-green-400 dark:border-green-500 focus:ring-green-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500")}),x.trim()&&(0,a.jsx)("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:k(x.trim())?(0,a.jsx)("span",{className:"text-green-500 text-xs",children:"✓"}):(0,a.jsx)("span",{className:"text-yellow-500 text-xs",children:"⚠"})})]})]})]}),(0,a.jsx)("div",{className:"pt-2",children:(0,a.jsx)("button",{type:"submit",disabled:b||!c.trim(),className:"w-full px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 dark:disabled:bg-gray-600 text-white font-semibold rounded-lg transition-colors flex items-center gap-2 justify-center disabled:cursor-not-allowed",children:b?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{className:"text-sm",children:r("newsletter.subscribing")})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm",children:r("newsletter.button")})]})})})]}),"error"===h&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-red-600 dark:text-red-400 text-xs font-medium",children:[(0,a.jsx)(d.A,{className:"h-4 w-4"}),y||r("newsletter.error")]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:r("newsletter.privacy")})]})})]})})})}},9361:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Z});var a=r(5155),s=r(2115),l=r(1788),n=r(7550),o=r(381),d=r(2713),i=r(7948),c=r(6874),g=r.n(c),x=r(3775),m=r(4259),b=r(9074),u=r(7580),h=r(8979),p=r(5690);let y=["contest","specialEvent","sota","pota","iota","regular","na"],f=["CW","SSB","FM","AM","FT8","FT4","PSK31","RTTY","MFSK","JT65","JT9","VARA","PACKET","SSTV","HELL","OLIVIA","CONTESTIA","DOMINO","THOR"],v=e=>{let{currentActivation:t,onStartActivation:r,onEndActivation:l,contactCount:n,stationConfigs:d=[],getStationConfigName:c}=e,{t:g}=(0,x.o)(),[f,v]=(0,s.useState)(!1),[k,j]=(0,s.useState)({type:"regular",reason:"",stationConfigId:""}),[N,w]=(0,s.useState)({}),S=e=>{let{name:t,value:r}=e.target;j(e=>({...e,[t]:r})),N[t]&&w(e=>({...e,[t]:""}))};return t?(0,a.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800 shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),(0,a.jsx)(m.A,{className:"w-5 h-5 text-green-600 dark:text-green-400"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-green-800 dark:text-green-300",children:["Activaci\xf3n - ",g("logbook.types.".concat(t.type))," - ",t.reason," - En progreso"]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-green-700 dark:text-green-400",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(b.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["Iniciada: ",new Date(t.startDate).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",timeZone:"UTC"})," UTC"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(u.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[n," contactos registrados"]})]}),t.stationConfigId&&c&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(o.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:c(t.stationConfigId)||g("logbook.stationConfig")})]})]})]})]}),(0,a.jsxs)("button",{onClick:()=>{window.confirm(g("logbook.confirmEndActivation"))&&l()},className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors shadow-lg",children:[(0,a.jsx)(h.A,{className:"w-4 h-4"}),"Finalizar Activaci\xf3n"]})]})}):(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-2xl mb-4",children:(0,a.jsx)(m.A,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:g("logbook.startActivation")}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Define el tipo y motivo de la activaci\xf3n para comenzar a registrar contactos"})]}),f?(0,a.jsxs)("div",{className:"space-y-4",children:[Object.keys(N).length>0&&(0,a.jsx)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,a.jsx)("p",{className:"text-red-600 dark:text-red-400 text-sm",children:"Por favor corrige los errores antes de continuar"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[g("logbook.fields.type")," *"]}),(0,a.jsx)("select",{name:"type",value:k.type,onChange:S,className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(N.type?"border-red-500":"border-gray-300 dark:border-gray-600"),children:y.map(e=>(0,a.jsx)("option",{value:e,children:g("logbook.types.".concat(e))},e))}),N.type&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:N.type})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[g("logbook.fields.reason")," *"]}),(0,a.jsx)("input",{type:"text",name:"reason",value:k.reason,onChange:S,placeholder:g("logbook.placeholders.reason"),maxLength:100,className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(N.reason?"border-red-500":"border-gray-300 dark:border-gray-600")}),N.reason&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:N.reason})]}),d.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(o.A,{className:"w-4 h-4"}),g("logbook.stationConfigOptional")]})}),(0,a.jsxs)("select",{name:"stationConfigId",value:k.stationConfigId||"",onChange:S,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"",children:g("logbook.selectStationConfig")}),d.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsxs)("button",{onClick:()=>{let e=(0,i.validateActivationForm)(k).filter(e=>!e.isValid);if(e.length>0){let t={};e.forEach(e=>{e.message&&(t[e.field]=g(e.message))}),w(t);return}r(k),v(!1),j({type:"regular",reason:"",stationConfigId:""}),w({})},className:"flex items-center gap-2 px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors shadow-lg",children:[(0,a.jsx)(p.A,{className:"w-4 h-4"}),"Iniciar Activaci\xf3n"]}),(0,a.jsx)("button",{onClick:()=>{v(!1),w({}),j({type:"regular",reason:"",stationConfigId:""})},className:"px-6 py-3 bg-gray-500 hover:bg-gray-600 text-white font-medium rounded-lg transition-colors",children:"Cancelar"})]})]}):(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors shadow-lg mx-auto",children:[(0,a.jsx)(p.A,{className:"w-5 h-5"}),g("logbook.newActivation")]})})]})};var k=r(4186),j=r(5448),N=r(4616);let w=e=>{let{onSubmit:t,isLoading:r=!1,nextQslNumber:l,lastContactData:n={}}=e,{t:o,language:d}=(0,x.o)(),[c,g]=(0,s.useState)({callsign:"",frequency:n.frequency||"",rst:n.rst||"",mode:n.mode||"SSB"}),[m,b]=(0,s.useState)({}),[h,p]=(0,s.useState)(new Date);(0,s.useEffect)(()=>{let e=setInterval(()=>{p(new Date)},1e3);return()=>clearInterval(e)},[]),(0,s.useEffect)(()=>{g(e=>({...e,frequency:n.frequency||"",rst:n.rst||"",mode:n.mode||"SSB"}))},[n]);let y=e=>{let{name:t,value:r}=e.target;g(e=>({...e,[t]:r})),m[t]&&b(e=>({...e,[t]:""}))};return(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-t-xl p-4 border-b border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-blue-700 dark:text-blue-300",children:[(0,a.jsx)(k.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{className:"font-medium",children:[(e=>{let t=e.getDate().toString().padStart(2,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getFullYear();return"es"===d?"".concat(t,"/").concat(r,"/").concat(a):"".concat(r,"/").concat(t,"/").concat(a)})(h)," - ",(e=>{let t=e.toTimeString().slice(0,5),r=-e.getTimezoneOffset(),a=Math.floor(Math.abs(r)/60),s=Math.abs(r)%60,l="GMT".concat(r>=0?"+":"-").concat(a).concat(s>0?":"+s.toString().padStart(2,"0"):"");return"".concat(t," (").concat(l,")")})(h)]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-300",children:[(0,a.jsx)(j.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{className:"font-medium",children:["QSL #",l.toString().padStart(3,"0")]})]})]}),c.frequency&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-purple-700 dark:text-purple-300",children:[(0,a.jsx)(u.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{className:"font-medium",children:["Banda: ",(e=>{let t=parseFloat(e);return isNaN(t)?"":(0,i.calculateBand)(t)})(c.frequency)]})]})]})}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let r=(0,i.validateContactForm)(c).filter(e=>!e.isValid);if(r.length>0){let e={};r.forEach(t=>{t.message&&(e[t.field]=o(t.message))}),b(e);return}let a=t(c);if(a.success){g(e=>({...e,callsign:""})),b({});let e=document.querySelector('input[name="callsign"]');e&&e.focus()}else if(a.errors){let e={};a.errors.forEach(t=>{e.form=t}),b(e)}},className:"p-6",children:[m.form&&(0,a.jsx)("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,a.jsx)("p",{className:"text-red-600 dark:text-red-400 text-sm",children:m.form})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o("logbook.fields.callsign")," *"]}),(0,a.jsx)("input",{type:"text",name:"callsign",value:c.callsign,onChange:y,placeholder:o("logbook.placeholders.callsign"),maxLength:20,className:"w-full px-4 py-3 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg font-mono uppercase ".concat(m.callsign?"border-red-500":"border-gray-300 dark:border-gray-600"),autoFocus:!0,disabled:r}),m.callsign&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:m.callsign})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o("logbook.fields.frequency")," (MHz) *"]}),(0,a.jsx)("input",{type:"number",name:"frequency",value:c.frequency,onChange:y,placeholder:"14.205",step:"0.001",min:"0.1",max:"999.999",className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(m.frequency?"border-red-500":"border-gray-300 dark:border-gray-600"),disabled:r}),m.frequency&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:m.frequency})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o("logbook.fields.rst")," *"]}),(0,a.jsx)("input",{type:"text",name:"rst",value:c.rst,onChange:y,placeholder:"599",maxLength:5,className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(m.rst?"border-red-500":"border-gray-300 dark:border-gray-600"),disabled:r}),m.rst&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:m.rst})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o("logbook.fields.mode")," *"]}),(0,a.jsx)("select",{name:"mode",value:c.mode,onChange:y,className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(m.mode?"border-red-500":"border-gray-300 dark:border-gray-600"),disabled:r,children:f.map(e=>(0,a.jsx)("option",{value:e,children:e},e))}),m.mode&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:m.mode})]})]}),(0,a.jsx)("div",{className:"mt-8 flex justify-center",children:(0,a.jsxs)("button",{type:"submit",disabled:r||!c.callsign.trim(),className:"flex items-center gap-2 px-8 py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-medium rounded-lg transition-colors shadow-lg text-lg disabled:cursor-not-allowed",children:[(0,a.jsx)(N.A,{className:"w-5 h-5"}),r?o("logbook.adding"):o("logbook.addContact")]})})]})]})};var S=r(5213),A=r(5488),C=r(7924),T=r(6932),I=r(3717),D=r(2525);let E=e=>{let{contacts:t,searchTerm:r,filterType:n,filterMode:o,filterReason:d,onSearchChange:c,onFilterTypeChange:g,onFilterModeChange:m,onFilterReasonChange:b,onEditContact:u,onDeleteContact:h,onExport:p,onExportFiltered:v,onExportADIF:k,onExportFilteredADIF:j}=e,{t:N,language:w}=(0,x.o)(),[E,F]=(0,s.useState)("qslNumber"),[_,O]=(0,s.useState)("desc"),[L,M]=(0,s.useState)(1),[R]=(0,s.useState)(50),q=(0,s.useMemo)(()=>{let e=[...t];if(r){let t=r.toLowerCase();e=e.filter(e=>e.callsign.toLowerCase().includes(t)||e.mode.toLowerCase().includes(t)||e.type.toLowerCase().includes(t)||e.reason&&e.reason.toLowerCase().includes(t)||e.rst.toLowerCase().includes(t))}return n&&(e=e.filter(e=>e.type===n)),o&&(e=e.filter(e=>e.mode===o)),d&&(e=e.filter(e=>e.reason&&e.reason.toLowerCase().includes(d.toLowerCase()))),e.sort((e,t)=>{let r,a;switch(E){case"qslNumber":r=e.qslNumber,a=t.qslNumber;break;case"date":r=new Date(e.year||new Date().getFullYear(),e.month-1,e.day),a=new Date(t.year||new Date().getFullYear(),t.month-1,t.day);break;case"callsign":r=e.callsign.toLowerCase(),a=t.callsign.toLowerCase();break;case"frequency":r=e.frequency,a=t.frequency;break;case"mode":r=e.mode.toLowerCase(),a=t.mode.toLowerCase();break;case"type":r=e.type.toLowerCase(),a=t.type.toLowerCase();break;default:return 0}return"asc"===_?r<a?-1:+(r>a):r>a?-1:+(r<a)})},[t,E,_,r,n,o,d]),P=Math.ceil(q.length/R),U=(L-1)*R,B=q.slice(U,U+R),Q=e=>{E===e?O("asc"===_?"desc":"asc"):(F(e),O("asc"))},V=(e,t)=>{window.confirm(N("logbook.confirmDelete"))&&h(e)},z=(e,t,r,a)=>(0,i.formatDate)(e,t,r,a),J=e=>N("logbook.types.".concat(e)),K=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return e.length<=t?e:e.substring(0,t)+"..."},G=(0,s.useMemo)(()=>[...new Set(t.map(e=>e.reason).filter(e=>!!e))].sort(),[t]),H=e=>{let{field:t,children:r}=e;return(0,a.jsxs)("button",{onClick:()=>Q(t),className:"flex items-center gap-1 text-left font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:[r,E===t&&("asc"===_?(0,a.jsx)(S.A,{className:"w-4 h-4"}):(0,a.jsx)(A.A,{className:"w-4 h-4"}))]})};return(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:N("logbook.contactList")}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[q.length," de ",t.length," ",N("logbook.totalContacts")]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(C.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:r,onChange:e=>c(e.target.value),placeholder:N("logbook.search"),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full sm:w-64"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsxs)("button",{onClick:()=>{v(q)},className:"flex items-center gap-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors text-sm",children:[(0,a.jsx)(l.A,{className:"w-4 h-4"}),"JSON (",q.length,")"]}),j&&(0,a.jsxs)("button",{onClick:()=>{j&&j(q)},className:"flex items-center gap-2 px-3 py-2 bg-orange-600 hover:bg-orange-700 text-white font-medium rounded-lg transition-colors text-sm",children:[(0,a.jsx)(l.A,{className:"w-4 h-4"}),"ADIF (",q.length,")"]}),(0,a.jsxs)("button",{onClick:p,className:"flex items-center gap-2 px-3 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors text-sm",children:[(0,a.jsx)(l.A,{className:"w-4 h-4"}),"Todos JSON"]}),k&&(0,a.jsxs)("button",{onClick:k,className:"flex items-center gap-2 px-3 py-2 bg-purple-600 hover:bg-purple-700 text-white font-medium rounded-lg transition-colors text-sm",children:[(0,a.jsx)(l.A,{className:"w-4 h-4"}),"Todos ADIF"]})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(T.A,{className:"w-4 h-4 text-gray-500"}),(0,a.jsxs)("select",{value:n,onChange:e=>g(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsxs)("option",{value:"",children:[N("logbook.fields.type")," - Todos"]}),y.map(e=>(0,a.jsx)("option",{value:e,children:N("logbook.types.".concat(e))},e))]})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("select",{value:o,onChange:e=>m(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsxs)("option",{value:"",children:[N("logbook.fields.mode")," - Todos"]}),f.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("select",{value:d,onChange:e=>b(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsxs)("option",{value:"",children:[N("logbook.fields.reason")," - Todos"]}),G.map(e=>(0,a.jsx)("option",{value:e,children:K(e,25)},e))]})})]})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:0===t.length?(0,a.jsxs)("div",{className:"p-12 text-center",children:[(0,a.jsx)("div",{className:"text-gray-400 dark:text-gray-500 mb-4",children:(0,a.jsx)(C.A,{className:"w-12 h-12 mx-auto"})}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:N("logbook.noContacts")})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:(0,a.jsx)(H,{field:"qslNumber",children:"QSL #"})}),(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:(0,a.jsx)(H,{field:"date",children:N("logbook.fields.date")})}),(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:"UTC"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:(0,a.jsx)(H,{field:"callsign",children:N("logbook.fields.callsign")})}),(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:(0,a.jsx)(H,{field:"frequency",children:"MHz"})}),(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:"Banda"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:"RST"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:(0,a.jsx)(H,{field:"mode",children:N("logbook.fields.mode")})}),(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:(0,a.jsx)(H,{field:"type",children:N("logbook.fields.type")})}),(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:N("logbook.fields.reason")}),(0,a.jsx)("th",{className:"px-6 py-3 text-right",children:"Acciones"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:B.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[(0,a.jsx)("td",{className:"px-6 py-4 font-medium text-blue-600 dark:text-blue-400",children:e.qslNumber}),(0,a.jsx)("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:z(e.day,e.month,e.year,w)}),(0,a.jsx)("td",{className:"px-6 py-4 text-gray-900 dark:text-white font-mono",children:(0,i.formatTimeWithTimezone)(e.utcTime)}),(0,a.jsx)("td",{className:"px-6 py-4 font-bold text-gray-900 dark:text-white",children:e.callsign}),(0,a.jsx)("td",{className:"px-6 py-4 text-gray-900 dark:text-white font-mono",children:e.frequency.toFixed(3)}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 text-xs font-medium rounded-full",children:(0,i.calculateBand)(e.frequency)})}),(0,a.jsx)("td",{className:"px-6 py-4 text-gray-900 dark:text-white font-mono",children:e.rst}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 text-xs font-medium rounded-full",children:e.mode})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300 text-xs font-medium rounded-full",children:J(e.type)})}),(0,a.jsx)("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",title:e.reason||"-",children:e.reason?K(e.reason):"-"}),(0,a.jsx)("td",{className:"px-6 py-4 text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)("button",{onClick:()=>u(e.id),className:"p-2 text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:N("logbook.editContact"),children:(0,a.jsx)(I.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>V(e.id,e.callsign),className:"p-2 text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:N("logbook.deleteContact"),children:(0,a.jsx)(D.A,{className:"w-4 h-4"})})]})})]},e.id))})]}),P>1&&(0,a.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Mostrando ",U+1," - ",Math.min(U+R,q.length)," de ",q.length]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>M(Math.max(1,L-1)),disabled:1===L,className:"px-3 py-2 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Anterior"}),(0,a.jsxs)("span",{className:"px-3 py-2 text-sm text-gray-600 dark:text-gray-400",children:[L," / ",P]}),(0,a.jsx)("button",{onClick:()=>M(Math.min(P,L+1)),disabled:L===P,className:"px-3 py-2 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Siguiente"})]})]})]})})]})};var F=r(6785),_=r(4416),O=r(2652),L=r(4229);let M=e=>{let{contact:t,isOpen:r,onClose:l,onSave:n}=e,{t:o}=(0,x.o)(),[d,c]=(0,s.useState)({callsign:"",day:"",month:"",year:"",utcTime:"",frequency:"",rst:"",mode:""}),[g,u]=(0,s.useState)({}),[h,p]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{t&&(c({callsign:t.callsign,day:t.day.toString(),month:t.month.toString(),year:t.year.toString(),utcTime:t.utcTime,frequency:t.frequency.toString(),rst:t.rst,mode:t.mode}),u({}))},[t]),!r||!t)return null;let y=(e,t)=>{switch(e){case"callsign":return(0,i.validateCallsign)(t)?"":o("logbook.validation.invalidCallsign");case"frequency":let r=parseFloat(t);return isNaN(r)||!(0,i.validateFrequency)(r)?o("logbook.validation.invalidFrequency"):"";case"utcTime":return(0,i.validateTime)(t)?"":o("logbook.validation.invalidTime");case"rst":return(0,i.validateRST)(t,d.mode)?"":o("logbook.validation.invalidRst");case"day":case"month":case"year":let a=parseInt(d.day),s=parseInt(d.month),l=parseInt(d.year);if("day"===e&&(isNaN(a)||a<1||a>31))return o("logbook.validation.invalidDay");if("month"===e&&(isNaN(s)||s<1||s>12))return o("logbook.validation.invalidMonth");if("year"===e&&(isNaN(l)||l<1900||l>new Date().getFullYear()))return o("logbook.validation.invalidYear");if(!isNaN(a)&&!isNaN(s)&&!isNaN(l))return(0,i.validateDate)(a,s,l)?"":o("logbook.validation.invalidDate");return"";default:return""===t.trim()?o("logbook.requiredField"):""}},v=e=>{let{name:t,value:r}=e.target;c(e=>({...e,[t]:r})),g[t]&&u(e=>({...e,[t]:""}))},j=e=>{let{name:t,value:r}=e.target,a=y(t,r);u(e=>({...e,[t]:a}))},N=()=>{let e={};return Object.keys(d).forEach(t=>{let r=y(t,d[t]);r&&(e[t]=r)}),u(e),0===Object.keys(e).length},w=async e=>{if(e.preventDefault(),N()){p(!0);try{let e={callsign:d.callsign.toUpperCase(),day:parseInt(d.day),month:parseInt(d.month),year:parseInt(d.year),utcTime:d.utcTime,frequency:parseFloat(d.frequency),rst:d.rst.toUpperCase(),mode:d.mode};n(t.id,e),l()}catch(e){console.error("Error saving contact:",e)}finally{p(!1)}}},S=()=>{h||l()},A=d.frequency?(0,i.calculateBand)(parseFloat(d.frequency)):"";return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,a.jsx)(F.A,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:o("logbook.editContact")}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["QSL #",t.qslNumber," - ",t.callsign]})]})]}),(0,a.jsx)("button",{onClick:S,disabled:h,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors disabled:opacity-50",children:(0,a.jsx)(_.A,{className:"w-5 h-5"})})]}),(0,a.jsxs)("form",{onSubmit:w,className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-amber-50 dark:bg-amber-900/20 border-2 border-amber-200 dark:border-amber-700 rounded-lg p-4 mb-6",children:[(0,a.jsxs)("h3",{className:"text-sm font-semibold text-amber-800 dark:text-amber-300 mb-3 flex items-center gap-2",children:[(0,a.jsx)(F.A,{className:"w-4 h-4"}),o("logbook.activationInfo")]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-amber-700 dark:text-amber-400 mb-1",children:o("logbook.fields.type")}),(0,a.jsx)("div",{className:"px-3 py-2 bg-amber-100 dark:bg-amber-900/40 border border-amber-200 dark:border-amber-600 rounded-lg text-amber-900 dark:text-amber-100 font-medium",children:o("logbook.types.".concat(t.type))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-amber-700 dark:text-amber-400 mb-1",children:o("logbook.fields.reason")}),(0,a.jsx)("div",{className:"px-3 py-2 bg-amber-100 dark:bg-amber-900/40 border border-amber-200 dark:border-amber-600 rounded-lg text-amber-900 dark:text-amber-100 font-medium",children:t.reason||"N/A"})]})]}),(0,a.jsxs)("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-2 italic",children:["ℹ️ ",o("logbook.activationInfoNote")]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(0,a.jsx)(m.A,{className:"w-4 h-4 inline mr-1"}),o("logbook.fields.callsign")," *"]}),(0,a.jsx)("input",{type:"text",name:"callsign",value:d.callsign,onChange:v,onBlur:j,className:"w-full px-4 py-3 border rounded-lg font-mono text-lg uppercase tracking-wide transition-colors ".concat(g.callsign?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"," text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"),placeholder:"LU9ANG",disabled:h}),g.callsign&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:g.callsign})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(0,a.jsx)(b.A,{className:"w-4 h-4 inline mr-1"}),o("logbook.fields.date")," *"]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"number",name:"day",value:d.day,onChange:v,onBlur:j,min:"1",max:"31",className:"w-full px-3 py-2 border rounded-lg ".concat(g.day?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"," text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"),placeholder:"D\xeda",disabled:h}),g.day&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:g.day})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"number",name:"month",value:d.month,onChange:v,onBlur:j,min:"1",max:"12",className:"w-full px-3 py-2 border rounded-lg ".concat(g.month?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"," text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"),placeholder:"Mes",disabled:h}),g.month&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:g.month})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"number",name:"year",value:d.year,onChange:v,onBlur:j,min:"1900",max:new Date().getFullYear(),className:"w-full px-3 py-2 border rounded-lg ".concat(g.year?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"," text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"),placeholder:"A\xf1o",disabled:h}),g.year&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:g.year})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(0,a.jsx)(k.A,{className:"w-4 h-4 inline mr-1"}),"Hora UTC *"]}),(0,a.jsx)("input",{type:"time",name:"utcTime",value:d.utcTime,onChange:v,onBlur:j,className:"w-full px-4 py-3 border rounded-lg font-mono ".concat(g.utcTime?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"," text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"),disabled:h}),g.utcTime&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:g.utcTime})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(0,a.jsx)(O.A,{className:"w-4 h-4 inline mr-1"}),o("logbook.fields.frequency")," (MHz) *"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"number",name:"frequency",value:d.frequency,onChange:v,onBlur:j,step:"0.001",min:"0.1",max:"300",className:"w-full px-4 py-3 border rounded-lg font-mono ".concat(g.frequency?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"," text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"),placeholder:"14.250",disabled:h}),A&&(0,a.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 text-xs font-medium rounded",children:A})})]}),g.frequency&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:g.frequency})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"RST *"}),(0,a.jsx)("input",{type:"text",name:"rst",value:d.rst,onChange:v,onBlur:j,className:"w-full px-4 py-3 border rounded-lg font-mono text-center text-lg ".concat(g.rst?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"," text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"),placeholder:"599",disabled:h}),g.rst&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:g.rst})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o("logbook.fields.mode")," *"]}),(0,a.jsxs)("select",{name:"mode",value:d.mode,onChange:v,onBlur:j,className:"w-full px-4 py-3 border rounded-lg ".concat(g.mode?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"," text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"),disabled:h,children:[(0,a.jsx)("option",{value:"",children:"Seleccionar modo"}),f.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),g.mode&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:g.mode})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("button",{type:"button",onClick:S,disabled:h,className:"px-6 py-3 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50",children:o("common.cancel")}),(0,a.jsxs)("button",{type:"submit",disabled:h,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium rounded-lg transition-colors",children:[(0,a.jsx)(L.A,{className:"w-4 h-4"}),h?"Guardando...":o("common.save")]})]})]})]})})};var R=r(1243),q=r(3500);let P=e=>{let{contact:t,isOpen:r,onClose:l,onConfirm:n}=e,{t:o}=(0,x.o)(),[d,i]=(0,s.useState)(""),[c,g]=(0,s.useState)(!1),[m,b]=(0,s.useState)("");if((0,s.useEffect)(()=>{r&&(i(""),b(""),g(!1))},[r]),!r||!t)return null;let u=d.toUpperCase()===t.callsign.toUpperCase(),h=async()=>{if(!u)return void b(o("logbook.deleteConfirmError"));g(!0);try{n(t.id),l()}catch(e){console.error("Error deleting contact:",e),b(o("logbook.deleteError"))}finally{g(!1)}},p=()=>{c||l()};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:(0,a.jsx)(R.A,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:o("logbook.deleteContactTitle")}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["QSL #",t.qslNumber]})]})]}),(0,a.jsx)("button",{onClick:p,disabled:c,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors disabled:opacity-50",children:(0,a.jsx)(_.A,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(R.A,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-red-800 dark:text-red-300 mb-1",children:o("logbook.deleteWarningTitle")}),(0,a.jsx)("p",{className:"text-sm text-red-700 dark:text-red-400",children:o("logbook.deleteWarningMessage")})]})]})}),(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:o("logbook.contactToDelete")}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[o("logbook.fields.callsign"),":"]}),(0,a.jsx)("span",{className:"ml-2 font-mono font-bold text-gray-900 dark:text-white",children:t.callsign})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[o("logbook.fields.date"),":"]}),(0,a.jsxs)("span",{className:"ml-2 text-gray-900 dark:text-white",children:[t.day,"/",t.month,"/",t.year]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[o("logbook.fields.frequency"),":"]}),(0,a.jsxs)("span",{className:"ml-2 text-gray-900 dark:text-white",children:[t.frequency," MHz"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[o("logbook.fields.mode"),":"]}),(0,a.jsx)("span",{className:"ml-2 text-gray-900 dark:text-white",children:t.mode})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(0,a.jsx)(q.A,{className:"w-4 h-4 inline mr-1"}),o("logbook.deleteConfirmLabel")]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:[o("logbook.deleteConfirmInstructions")," ",(0,a.jsx)("strong",{className:"font-mono text-gray-900 dark:text-white",children:t.callsign})]}),(0,a.jsx)("input",{type:"text",value:d,onChange:e=>{i(e.target.value.toUpperCase()),m&&b("")},onKeyPress:e=>{"Enter"===e.key&&u&&!c&&h()},className:"w-full px-4 py-3 border rounded-lg font-mono text-lg uppercase tracking-wide transition-colors ".concat(m?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":d&&u?"border-green-300 dark:border-green-600 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"," text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500 focus:border-transparent"),placeholder:o("logbook.deleteCallsignPlaceholder"),disabled:c,autoFocus:!0}),m&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:m}),d&&u&&(0,a.jsxs)("p",{className:"mt-2 text-sm text-green-600 dark:text-green-400 flex items-center gap-1",children:["✓ ",o("logbook.deleteCallsignMatch")]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("button",{type:"button",onClick:p,disabled:c,className:"px-6 py-3 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50",children:o("common.cancel")}),(0,a.jsxs)("button",{type:"button",onClick:h,disabled:!u||c,className:"flex items-center gap-2 px-6 py-3 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white font-medium rounded-lg transition-colors disabled:cursor-not-allowed",children:[(0,a.jsx)(D.A,{className:"w-4 h-4"}),c?o("logbook.deleting"):o("logbook.deleteContactConfirm")]})]})]})})};var U=r(8154),B=r(8621),Q=r(5880),V=r(4940);let z=e=>{let{activation:t,isOpen:r,onClose:l,onSave:n,stationConfigs:d=[]}=e,{t:i}=(0,x.o)(),[c,g]=(0,s.useState)({type:"",reason:"",stationConfigId:""}),[m,b]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{r&&t&&(g({type:t.type,reason:t.reason,stationConfigId:t.stationConfigId||""}),b(!1))},[r,t]),!r||!t)return null;let u=async()=>{b(!0);try{let e={type:c.type,reason:c.reason};c.stationConfigId?e.stationConfigId=c.stationConfigId:e.stationConfigId=void 0,n(t.id,e),l()}catch(e){console.error("Error saving activation:",e)}finally{b(!1)}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,a.jsx)(V.A,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:i("admin.editActivationTitle")})]}),(0,a.jsx)("button",{onClick:l,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,a.jsx)(_.A,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("admin.activationType")}),(0,a.jsxs)("select",{value:c.type,onChange:e=>g(t=>({...t,type:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg",children:[(0,a.jsx)("option",{value:"contest",children:i("logbook.types.contest")}),(0,a.jsx)("option",{value:"specialEvent",children:i("logbook.types.specialEvent")}),(0,a.jsx)("option",{value:"sota",children:i("logbook.types.sota")}),(0,a.jsx)("option",{value:"pota",children:i("logbook.types.pota")}),(0,a.jsx)("option",{value:"iota",children:i("logbook.types.iota")}),(0,a.jsx)("option",{value:"regular",children:i("logbook.types.regular")})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("admin.activationReason")}),(0,a.jsx)("input",{type:"text",value:c.reason,onChange:e=>g(t=>({...t,reason:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg"})]}),d.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(o.A,{className:"w-4 h-4"}),i("logbook.stationConfigOptional")]})}),(0,a.jsxs)("select",{value:c.stationConfigId,onChange:e=>g(t=>({...t,stationConfigId:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg",children:[(0,a.jsx)("option",{value:"",children:i("logbook.noStationConfig")}),d.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("button",{onClick:l,className:"px-6 py-3 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg",children:i("admin.cancel")}),(0,a.jsxs)("button",{onClick:u,disabled:m,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg disabled:opacity-50",children:[(0,a.jsx)(L.A,{className:"w-4 h-4"}),i("admin.save")]})]})]})})},J=e=>{let{activation:t,isOpen:r,onClose:l,onConfirm:n}=e,{t:o}=(0,x.o)(),[d,i]=(0,s.useState)(""),[c,g]=(0,s.useState)(!1),[m,b]=(0,s.useState)("");if((0,s.useEffect)(()=>{r&&(i(""),b(""),g(!1))},[r]),!r||!t)return null;let u="ELIMINAR"===d.toUpperCase(),h=async()=>{if(!u)return void b('Debe escribir "ELIMINAR" para confirmar');g(!0);try{n(t.id),l()}catch(e){console.error("Error deleting activation:",e),b("Error al eliminar la activaci\xf3n")}finally{g(!1)}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:(0,a.jsx)(R.A,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:o("admin.deleteActivationTitle")}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o("logbook.types.".concat(t.type))," - ",t.reason]})]})]}),(0,a.jsx)("button",{onClick:l,disabled:c,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors disabled:opacity-50",children:(0,a.jsx)(_.A,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(R.A,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-red-800 dark:text-red-300 mb-1",children:"⚠️ Acci\xf3n Irreversible"}),(0,a.jsxs)("p",{className:"text-sm text-red-700 dark:text-red-400",children:[o("admin.deleteActivationWarning"),". Esta acci\xf3n no se puede deshacer."]})]})]})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(0,a.jsx)(q.A,{className:"w-4 h-4 inline mr-1"}),"Confirmaci\xf3n requerida"]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["Para confirmar la eliminaci\xf3n, escriba ",(0,a.jsx)("strong",{className:"font-mono text-gray-900 dark:text-white",children:"ELIMINAR"})]}),(0,a.jsx)("input",{type:"text",value:d,onChange:e=>{i(e.target.value.toUpperCase()),m&&b("")},className:"w-full px-4 py-3 border rounded-lg font-mono text-lg uppercase tracking-wide transition-colors ".concat(m?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":d&&u?"border-green-300 dark:border-green-600 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"," text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500 focus:border-transparent"),placeholder:"Escriba: ELIMINAR",disabled:c,autoFocus:!0}),m&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:m}),d&&u&&(0,a.jsx)("p",{className:"mt-2 text-sm text-green-600 dark:text-green-400 flex items-center gap-1",children:"✓ Confirmaci\xf3n v\xe1lida"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("button",{onClick:l,disabled:c,className:"px-6 py-3 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50",children:o("admin.cancel")}),(0,a.jsx)("button",{onClick:h,disabled:!u||c,className:"flex items-center gap-2 px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50",children:c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Eliminando..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(D.A,{className:"w-4 h-4"}),o("admin.confirmDelete")]})})]})]})})};var K=r(6740);let G=e=>{let{isOpen:t,onClose:r,onConfirm:l}=e,{t:n}=(0,x.o)(),[o,d]=(0,s.useState)(""),[i,c]=(0,s.useState)(""),[g,m]=(0,s.useState)({num1:0,num2:0,operation:"+",answer:0}),[b,u]=(0,s.useState)(!1),[h,p]=(0,s.useState)({text:"",math:""}),[y,f]=(0,s.useState)(1),v=()=>{let e=Math.floor(90*Math.random())+10,t=Math.floor(90*Math.random())+10,r=["+","-"],a=r[Math.floor(Math.random()*r.length)];m({num1:e,num2:t,operation:a,answer:"+"===a?e+t:e-t})};if((0,s.useEffect)(()=>{t&&(d(""),c(""),p({text:"",math:""}),u(!1),f(1),v())},[t]),!t)return null;let k="Espa\xf1ol"===n("language.current")?"BORRAR TODO":"DELETE ALL",j=o.toUpperCase()===k,N=parseInt(i)===g.answer,w=async()=>{if(!N)return void p(e=>({...e,math:"Respuesta matem\xe1tica incorrecta"}));u(!0);try{l(),r()}catch(e){console.error("Error deleting all data:",e)}finally{u(!1)}},S=()=>{b||r()};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-lg w-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:(0,a.jsx)(R.A,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n("admin.deleteAllTitle")}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Paso ",y," de 2"]})]})]}),(0,a.jsx)("button",{onClick:S,disabled:b,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors disabled:opacity-50",children:(0,a.jsx)(_.A,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border-2 border-red-200 dark:border-red-700 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(R.A,{className:"w-6 h-6 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-red-800 dark:text-red-300 mb-2",children:"⚠️ ADVERTENCIA CR\xcdTICA ⚠️"}),(0,a.jsx)("p",{className:"text-sm text-red-700 dark:text-red-400 mb-2",children:n("admin.deleteAllWarning")}),(0,a.jsxs)("ul",{className:"text-sm text-red-700 dark:text-red-400 list-disc list-inside space-y-1",children:[(0,a.jsx)("li",{children:"Todas las activaciones ser\xe1n eliminadas"}),(0,a.jsx)("li",{children:"Todos los contactos ser\xe1n eliminados"}),(0,a.jsx)("li",{children:"Toda la configuraci\xf3n ser\xe1 eliminada"}),(0,a.jsx)("li",{children:"Esta acci\xf3n NO se puede deshacer"})]})]})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ".concat(1===y?"bg-red-600 text-white":y>1?"bg-green-600 text-white":"bg-gray-300 text-gray-600"),children:"1"}),(0,a.jsx)("div",{className:"w-16 h-0.5 ".concat(y>1?"bg-green-600":"bg-gray-300")}),(0,a.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ".concat(2===y?"bg-red-600 text-white":"bg-gray-300 text-gray-600"),children:"2"})]}),1===y&&(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Paso 1: Confirmaci\xf3n de texto"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:[n("admin.deleteAllInstruction"),":"," ",(0,a.jsx)("strong",{className:"font-mono text-red-600 dark:text-red-400",children:k})]}),(0,a.jsx)("input",{type:"text",value:o,onChange:e=>{d(e.target.value.toUpperCase()),h.text&&p(e=>({...e,text:""}))},className:"w-full px-4 py-3 border rounded-lg font-mono text-lg uppercase tracking-wide transition-colors ".concat(h.text?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":o&&j?"border-green-300 dark:border-green-600 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"," text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500 focus:border-transparent"),placeholder:n("admin.deleteAllPlaceholder"),autoFocus:!0}),h.text&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:h.text}),o&&j&&(0,a.jsx)("p",{className:"mt-2 text-sm text-green-600 dark:text-green-400 flex items-center gap-1",children:"✓ Texto correcto"})]})}),2===y&&(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(0,a.jsx)(K.A,{className:"w-4 h-4 inline mr-1"}),"Paso 2: Desaf\xedo matem\xe1tico"]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:[n("admin.mathChallenge"),":"]}),(0,a.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6 mb-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:[g.num1," ",g.operation," ",g.num2," = ?"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Resuelva esta operaci\xf3n para continuar"})]})}),(0,a.jsx)("input",{type:"number",value:i,onChange:e=>{c(e.target.value),h.math&&p(e=>({...e,math:""}))},className:"w-full px-4 py-3 border rounded-lg text-lg text-center font-mono transition-colors ".concat(h.math?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":i&&N?"border-green-300 dark:border-green-600 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"," text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500 focus:border-transparent"),placeholder:n("admin.mathPlaceholder"),autoFocus:!0}),h.math&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:h.math}),i&&N&&(0,a.jsx)("p",{className:"mt-2 text-sm text-green-600 dark:text-green-400 flex items-center gap-1",children:"✓ Respuesta correcta"})]})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{type:"button",onClick:S,disabled:b,className:"px-6 py-3 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50",children:n("admin.cancel")}),2===y&&(0,a.jsx)("button",{type:"button",onClick:()=>{f(1),p(e=>({...e,math:""}))},disabled:b,className:"px-6 py-3 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50",children:"Atr\xe1s"})]}),1===y?(0,a.jsx)("button",{type:"button",onClick:()=>{if(!j)return void p(e=>({...e,text:'Debe escribir "'.concat(k,'" para continuar')}));f(2)},disabled:!j,className:"px-6 py-3 bg-orange-600 hover:bg-orange-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50",children:"Continuar →"}):(0,a.jsx)("button",{type:"button",onClick:w,disabled:!N||b,className:"flex items-center gap-2 px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50",children:b?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Eliminando..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(D.A,{className:"w-4 h-4"}),n("admin.confirmDelete")]})})]})]})})},H=e=>{let{isOpen:t,onClose:r,storageUsage:l,activationStatistics:n,totalContacts:i,onUpdateActivation:c,onDeleteActivation:g,onDeleteAllData:m,stationConfigs:b=[]}=e,{t:u}=(0,x.o)(),[h,p]=(0,s.useState)(null),[y,f]=(0,s.useState)(null),[v,k]=(0,s.useState)(!1);if(!t)return null;let j=e=>{p(e)},N=e=>{f(e)},w=e=>{if(0===e)return"0 "+u("admin.bytes");let t=[u("admin.bytes"),u("admin.kb"),u("admin.mb"),"GB"],r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(2))+" "+t[r]};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,a.jsx)(o.A,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:u("admin.title")}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:u("admin.subtitle")})]})]}),(0,a.jsx)("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:"✕"})]}),(0,a.jsxs)("div",{className:"p-6 space-y-8",children:[(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(Q.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:u("admin.dataUsage")})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:u("admin.totalSize")}),(0,a.jsx)("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:l.formattedSizes.total})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:u("admin.contactsSize")}),(0,a.jsx)("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:l.formattedSizes.contacts})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:u("admin.activationsSize")}),(0,a.jsx)("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:l.formattedSizes.activations})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:u("admin.totalContacts")}),(0,a.jsx)("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:i.toLocaleString()})]})]}),(0,a.jsxs)("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:[(0,a.jsx)(Q.A,{className:"w-3 h-3 inline mr-1"}),u("admin.storageInfo")]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(d.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Estad\xedsticas Generales"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:u("admin.totalActivations")}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.length})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:u("admin.totalContacts")}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Promedio por activaci\xf3n"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.length>0?Math.round(i/n.length):0})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(V.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:u("admin.activationManagement")})]})}),0===n.length?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:u("admin.noActivations")})}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-600",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700 dark:text-gray-300",children:u("admin.activationName")}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700 dark:text-gray-300",children:u("admin.activationDate")}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700 dark:text-gray-300",children:u("admin.activationStatus")}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700 dark:text-gray-300",children:u("admin.activationContacts")}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700 dark:text-gray-300",children:"Tama\xf1o"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700 dark:text-gray-300",children:"Acciones"})]})}),(0,a.jsx)("tbody",{children:n.map(e=>(0,a.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"font-medium text-gray-900 dark:text-white",children:[u("logbook.types.".concat(e.type))," - ",e.reason]})})}),(0,a.jsx)("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-300",children:new Date(e.startDate).toLocaleDateString()}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.isActive?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"),children:e.isActive?u("admin.active"):u("admin.completed")})}),(0,a.jsx)("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-300",children:e.contactCount}),(0,a.jsx)("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-300",children:w(e.size)}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>j(e),className:"p-1 text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",title:u("admin.edit"),children:(0,a.jsx)(V.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>N(e),className:"p-1 text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",title:u("admin.delete"),children:(0,a.jsx)(D.A,{className:"w-4 h-4"})})]})})]},e.id))})]})})]}),(0,a.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)(R.A,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-red-800 dark:text-red-300",children:"Zona Peligrosa"})]}),(0,a.jsx)("p",{className:"text-sm text-red-700 dark:text-red-400 mb-4",children:"Las siguientes acciones son irreversibles y eliminar\xe1n datos permanentemente."}),(0,a.jsxs)("button",{onClick:()=>k(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors",children:[(0,a.jsx)(D.A,{className:"w-4 h-4"}),u("admin.deleteAllData")]})]})]})]})}),(0,a.jsx)(z,{activation:h,isOpen:!!h,onClose:()=>p(null),onSave:(e,t)=>{c(e,t),p(null)},stationConfigs:b}),(0,a.jsx)(J,{activation:y,isOpen:!!y,onClose:()=>f(null),onConfirm:e=>{g(e),f(null)}}),(0,a.jsx)(G,{isOpen:v,onClose:()=>k(!1),onConfirm:()=>{m(),k(!1),r()}})]})},W=()=>{let[e,t]=(0,s.useState)({contacts:[],activations:[],currentActivation:null,nextQslNumber:1,searchTerm:"",filterType:"",filterMode:"",filterReason:"",isLoading:!1,error:null});(0,s.useEffect)(()=>{let e=(0,i.loadContactsFromStorage)(),r=(0,i.loadActivationsFromStorage)(),a=(0,i.loadCurrentActivation)(),s=1;a&&(s=e.filter(e=>e.activationId===a.id).length+1),t(t=>({...t,contacts:e,activations:r,currentActivation:a,nextQslNumber:s}))},[]),(0,s.useEffect)(()=>{e.contacts.length>0&&(0,i.saveContactsToStorage)(e.contacts)},[e.contacts]),(0,s.useEffect)(()=>{e.activations.length>0&&(0,i.saveActivationsToStorage)(e.activations)},[e.activations]),(0,s.useEffect)(()=>{(0,i.saveCurrentActivation)(e.currentActivation)},[e.currentActivation]);let r=(0,s.useCallback)(e=>{let r=(0,i.validateActivationForm)(e).filter(e=>!e.isValid);if(r.length>0)return{success:!1,errors:r.map(e=>e.message||"Validation error")};let a=(0,i.createActivation)(e);return t(e=>({...e,activations:[...e.activations,a],currentActivation:a,nextQslNumber:1})),{success:!0}},[]),a=(0,s.useCallback)(()=>{if(!e.currentActivation)return;let r={...e.currentActivation,isActive:!1,endDate:new Date().toISOString(),contactCount:e.contacts.filter(t=>t.activationId===e.currentActivation.id).length};t(t=>({...t,activations:t.activations.map(t=>t.id===e.currentActivation.id?r:t),currentActivation:null,nextQslNumber:1}))},[e.currentActivation,e.contacts]),l=(0,s.useCallback)(r=>{if(!e.currentActivation)return{success:!1,errors:["No hay activaci\xf3n activa. Inicia una activaci\xf3n antes de agregar contactos."]};let a=(0,i.validateContactForm)(r).filter(e=>!e.isValid);if(a.length>0)return{success:!1,errors:a.map(e=>e.message||"Validation error")};let s=(0,i.formDataToContact)(r,e.nextQslNumber,e.currentActivation);return(0,i.saveLastContactData)(r),t(e=>({...e,contacts:[...e.contacts,s],nextQslNumber:e.nextQslNumber+1})),{success:!0}},[e.nextQslNumber,e.currentActivation]),n=(0,s.useCallback)(()=>e.currentActivation?e.contacts.filter(t=>t.activationId===e.currentActivation.id):[],[e.contacts,e.currentActivation]),o=(0,s.useCallback)((e,r)=>{t(t=>({...t,contacts:t.contacts.map(t=>t.id===e?{...t,...r}:t)}))},[]),d=(0,s.useCallback)(e=>{t(t=>({...t,contacts:t.contacts.filter(t=>t.id!==e)}))},[]),c=(0,s.useCallback)(()=>{let t=[...e.contacts];if(e.searchTerm){let r=e.searchTerm.toLowerCase();t=t.filter(e=>e.callsign.toLowerCase().includes(r)||e.mode.toLowerCase().includes(r)||e.type.toLowerCase().includes(r)||e.reason&&e.reason.toLowerCase().includes(r)||e.rst.toLowerCase().includes(r))}return e.filterType&&(t=t.filter(t=>t.type===e.filterType)),e.filterMode&&(t=t.filter(t=>t.mode===e.filterMode)),e.filterReason&&(t=t.filter(t=>t.reason&&t.reason.toLowerCase().includes(e.filterReason.toLowerCase()))),t.sort((e,t)=>t.qslNumber-e.qslNumber),t},[e.contacts,e.searchTerm,e.filterType,e.filterMode,e.filterReason]),g=(0,s.useCallback)(()=>{if(e.currentActivation)try{let t=n(),r=(0,i.generateExportData)(t),a="activation_".concat(e.currentActivation.type,"_").concat(e.currentActivation.reason.replace(/\s+/g,"_"),"_").concat(new Date().toISOString().split("T")[0],".json");(0,i.downloadJSON)(r,a)}catch(e){t(e=>({...e,error:"Error exporting activation data"}))}},[e.currentActivation,n]),x=(0,s.useCallback)(()=>{try{let t=(0,i.generateExportData)(e.contacts),r="logbook_complete_export_".concat(new Date().toISOString().split("T")[0],".json");(0,i.downloadJSON)(t,r)}catch(e){t(e=>({...e,error:"Error exporting data"}))}},[e.contacts]),m=(0,s.useCallback)(e=>{try{let t=(0,i.generateExportData)(e),r="logbook_filtered_export_".concat(new Date().toISOString().split("T")[0],".json");(0,i.downloadJSON)(t,r)}catch(e){t(e=>({...e,error:"Error exporting filtered data"}))}},[]),b=(0,s.useCallback)(()=>{if(e.currentActivation)try{let t=n(),r="activation_".concat(e.currentActivation.type,"_").concat(e.currentActivation.reason.replace(/\s+/g,"_"),"_").concat(new Date().toISOString().split("T")[0],".adi");(0,i.downloadADIF)(t,r,{operator:"LU9ANG",programId:"QSL Apps Logbook",version:"1.0"})}catch(e){t(e=>({...e,error:"Error exporting activation data to ADIF"}))}},[e.currentActivation,n]),u=(0,s.useCallback)(()=>{try{let t="logbook_complete_export_".concat(new Date().toISOString().split("T")[0],".adi");(0,i.downloadADIF)(e.contacts,t,{operator:"LU9ANG",programId:"QSL Apps Logbook",version:"1.0"})}catch(e){t(e=>({...e,error:"Error exporting data to ADIF"}))}},[e.contacts]),h=(0,s.useCallback)(e=>{try{let t="logbook_filtered_export_".concat(new Date().toISOString().split("T")[0],".adi");(0,i.downloadADIF)(e,t,{operator:"LU9ANG",programId:"QSL Apps Logbook",version:"1.0"})}catch(e){t(e=>({...e,error:"Error exporting filtered data to ADIF"}))}},[]),p=(0,s.useCallback)(e=>{try{let t=(0,i.generateADIFFile)(e,{operator:"LU9ANG",programId:"QSL Apps Logbook",version:"1.0"});return(0,i.validateADIFFile)(t)}catch(e){return{isValid:!1,errors:["Error generating ADIF content for validation"]}}},[]),y=(0,s.useCallback)(()=>{t(e=>({...e,contacts:[],activations:[],currentActivation:null,nextQslNumber:1})),localStorage.removeItem("logbook_contacts"),localStorage.removeItem("logbook_activations"),localStorage.removeItem("logbook_current_activation"),localStorage.removeItem("logbook_last_contact")},[]),f=(0,s.useCallback)(e=>{t(t=>{var r;return{...t,contacts:t.contacts.filter(t=>t.activationId!==e),activations:t.activations.filter(t=>t.id!==e),currentActivation:(null==(r=t.currentActivation)?void 0:r.id)===e?null:t.currentActivation}})},[]),v=(0,s.useCallback)((e,r)=>{t(t=>{var a;return{...t,activations:t.activations.map(t=>t.id===e?{...t,...r}:t),currentActivation:(null==(a=t.currentActivation)?void 0:a.id)===e?{...t.currentActivation,...r}:t.currentActivation}})},[]),k=(0,s.useCallback)(()=>{let e=e=>{if(0===e)return"0 bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["bytes","KB","MB","GB"][t]},t=e=>{let t=localStorage.getItem(e);return t?new Blob([t]).size:0},r=t("logbook_contacts"),a=t("logbook_activations"),s=t("logbook_current_activation"),l=t("logbook_last_contact"),n=r+a+s+l;return{totalSize:n,contactsSize:r,activationsSize:a,currentActivationSize:s,lastContactSize:l,formattedSizes:{total:e(n),contacts:e(r),activations:e(a),currentActivation:e(s),lastContact:e(l)}}},[]),j=(0,s.useCallback)(()=>e.activations.map(t=>{let r=e.contacts.filter(e=>e.activationId===t.id);return{...t,contactCount:r.length,size:new Blob([JSON.stringify(r)]).size}}),[e.contacts,e.activations]),N=(0,s.useCallback)(e=>{t(t=>({...t,searchTerm:e}))},[]),w=(0,s.useCallback)(e=>{t(t=>({...t,filterType:e}))},[]),S=(0,s.useCallback)(e=>{t(t=>({...t,filterMode:e}))},[]),A=(0,s.useCallback)(e=>{t(t=>({...t,filterReason:e}))},[]),C=(0,s.useCallback)(()=>{t(e=>({...e,error:null}))},[]),T=(0,s.useCallback)(()=>{let e=n(),t=e.length,r=new Set(e.map(e=>e.callsign)).size,a={},s={};return e.forEach(e=>{a[e.mode]=(a[e.mode]||0)+1;let t=e.frequency,r="Unknown";t>=1.8&&t<=2?r="160m":t>=3.5&&t<=4?r="80m":t>=7&&t<=7.3?r="40m":t>=14&&t<=14.35?r="20m":t>=21&&t<=21.45?r="15m":t>=28&&t<=29.7?r="10m":t>=50&&t<=54?r="6m":t>=144&&t<=148?r="2m":t>=430&&t<=440&&(r="70cm"),s[r]=(s[r]||0)+1}),{totalContacts:t,uniqueCallsigns:r,modeStats:a,bandStats:s}},[n]),I=(0,s.useCallback)(()=>{let t=e.contacts,r=t.length,a=new Set(t.map(e=>e.callsign)).size,s=e.activations.length,l=e.activations.filter(e=>!e.isActive).length,n={},o={},d={};return t.forEach(e=>{n[e.mode]=(n[e.mode]||0)+1,o[e.type]=(o[e.type]||0)+1;let t=e.frequency,r="Unknown";t>=1.8&&t<=2?r="160m":t>=3.5&&t<=4?r="80m":t>=7&&t<=7.3?r="40m":t>=14&&t<=14.35?r="20m":t>=21&&t<=21.45?r="15m":t>=28&&t<=29.7?r="10m":t>=50&&t<=54?r="6m":t>=144&&t<=148?r="2m":t>=430&&t<=440&&(r="70cm"),d[r]=(d[r]||0)+1}),{totalContacts:r,uniqueCallsigns:a,totalActivations:s,completedActivations:l,modeStats:n,typeStats:o,bandStats:d}},[e.contacts,e.activations]),D=(0,s.useCallback)(()=>(0,i.loadLastContactData)(),[]);return{contacts:c(),allContacts:e.contacts,activations:e.activations,currentActivation:e.currentActivation,currentActivationContacts:n(),nextQslNumber:e.nextQslNumber,searchTerm:e.searchTerm,filterType:e.filterType,filterMode:e.filterMode,filterReason:e.filterReason,isLoading:e.isLoading,error:e.error,startActivation:r,endActivation:a,addContact:l,updateContact:o,deleteContact:d,updateActivation:v,deleteActivation:f,exportToJSON:x,exportActivationToJSON:g,exportFilteredToJSON:m,setSearchTerm:N,setFilterType:w,setFilterMode:S,setFilterReason:A,clearAllData:y,clearError:C,getCurrentActivationStatistics:T,getAllTimeStatistics:I,getLastContactData:D,getStorageUsage:k,getActivationStatistics:j,exportActivationToADIF:b,exportToADIF:u,exportFilteredToADIF:h,validateADIFExport:p}};var Y=r(3345);function Z(){let{t:e}=(0,x.o)(),[t,c]=(0,s.useState)(!1),[m,b]=(0,s.useState)(!1),[u,h]=(0,s.useState)(!1),[p,y]=(0,s.useState)(!1),[f,k]=(0,s.useState)(null),[j,N]=(0,s.useState)(!1),[S,A]=(0,s.useState)(null),[C,T]=(0,s.useState)(!1),{currentActivation:I,currentActivationContacts:D,allContacts:F,activations:_,nextQslNumber:O,searchTerm:L,filterType:R,filterMode:q,filterReason:Q,error:V,startActivation:z,endActivation:J,addContact:K,updateContact:G,deleteContact:Z,exportActivationToJSON:$,exportToJSON:X,exportFilteredToJSON:ee,exportActivationToADIF:et,exportToADIF:er,exportFilteredToADIF:ea,setSearchTerm:es,setFilterType:el,setFilterMode:en,setFilterReason:eo,clearAllData:ed,clearError:ei,getCurrentActivationStatistics:ec,getAllTimeStatistics:eg,getLastContactData:ex,getStorageUsage:em,getActivationStatistics:eb,updateActivation:eu,deleteActivation:eh}=W(),{configs:ep,getConfig:ey}=(0,Y.xz)(),ef=()=>{b(!1)},ev=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json",a=F.filter(t=>t.activationId===e),s=_.find(t=>t.id===e);if(s)try{let e=new Date().toISOString().split("T")[0],l="activation_".concat(s.type,"_").concat(s.reason.replace(/\s+/g,"_"),"_").concat(e);if("adif"===t)Promise.resolve().then(r.bind(r,7948)).then(e=>{let{downloadADIF:t}=e;t(a,"".concat(l,".adi"),{operator:"LU9ANG",programId:"QSL Apps Logbook",version:"1.0"}),h(!1)});else{let e=(0,i.generateExportData)(a);(0,i.downloadJSON)(e,"".concat(l,".json")),h(!1)}}catch(e){console.error("Error exporting activation:",e)}},ek=t?F:D,ej=D.length,eN=ex();return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,a.jsx)("div",{className:"fixed top-4 right-4 z-50",children:(0,a.jsx)(U.LanguageToggle,{})}),(0,a.jsx)("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(g(),{href:"/",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white transition-colors",children:[(0,a.jsx)(n.A,{className:"w-5 h-5"}),e("common.back")]}),(0,a.jsx)("div",{className:"h-6 w-px bg-gray-300 dark:bg-gray-600"}),(0,a.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\uD83D\uDCDA ",e("logbook.title")]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white transition-colors",children:[(0,a.jsx)(o.A,{className:"w-4 h-4"}),e("admin.title")]}),I&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:()=>{b(!0)},className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white transition-colors",children:[(0,a.jsx)(d.A,{className:"w-4 h-4"}),"Estad\xedsticas"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:()=>{I&&$()},className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white transition-colors border-r border-gray-300 dark:border-gray-600 pr-3",children:[(0,a.jsx)(l.A,{className:"w-4 h-4"}),"JSON"]}),(0,a.jsxs)("button",{onClick:()=>{I&&et()},className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white transition-colors",children:[(0,a.jsx)(l.A,{className:"w-4 h-4"}),"ADIF"]})]})]}),_.length>0&&(0,a.jsxs)("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white transition-colors",children:[(0,a.jsx)(l.A,{className:"w-4 h-4"}),"Exportar por Activaci\xf3n"]})]})]})})}),(0,a.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"space-y-8",children:[V&&(0,a.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-red-600 dark:text-red-400",children:V}),(0,a.jsx)("button",{onClick:ei,className:"mt-2 text-sm text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-200",children:"Cerrar"})]}),(0,a.jsx)(v,{currentActivation:I,onStartActivation:e=>z(e),onEndActivation:()=>{J()},contactCount:ej,stationConfigs:ep,getStationConfigName:e=>{let t=ey(e);return null==t?void 0:t.name}}),I&&(0,a.jsx)(w,{onSubmit:e=>K(e),nextQslNumber:O,lastContactData:eN}),(D.length>0||F.length>0)&&(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t?"Todos los Contactos":"Contactos de la Activaci\xf3n Actual"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t?"".concat(F.length," contactos totales"):"".concat(D.length," contactos en esta activaci\xf3n")})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[F.length>0&&(0,a.jsx)("button",{onClick:()=>c(!t),className:"px-4 py-2 text-sm bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors",children:t?"Mostrar Activaci\xf3n Actual":"Mostrar Todos"}),t&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:()=>X(),className:"flex items-center gap-2 px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,a.jsx)(l.A,{className:"w-4 h-4"}),"JSON"]}),(0,a.jsxs)("button",{onClick:()=>er(),className:"flex items-center gap-2 px-4 py-2 text-sm bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[(0,a.jsx)(l.A,{className:"w-4 h-4"}),"ADIF"]})]})]})]})}),(0,a.jsx)(E,{contacts:ek,onEditContact:e=>{let t=F.find(t=>t.id===e);t&&(k(t),N(!0))},onDeleteContact:e=>{let t=F.find(t=>t.id===e);t&&(A(t),T(!0))},searchTerm:L,onSearchChange:es,filterType:R,onFilterTypeChange:el,filterMode:q,onFilterModeChange:en,filterReason:Q,onFilterReasonChange:eo,onExport:t?X:$,onExportFiltered:ee,onExportADIF:t?er:et,onExportFilteredADIF:ea})]})]})}),(0,a.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900 py-16",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsx)(B.v,{})})}),(0,a.jsx)("footer",{className:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:["2025 - ",e("header.createdBy")," ",(0,a.jsx)("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:"LU9ANG"})," - ",(0,a.jsx)("a",{href:"https://github.com/alvarongg",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-semibold transition-colors",children:"@alvarongg"})]})})}),(0,a.jsx)(H,{isOpen:p,onClose:()=>y(!1),storageUsage:em(),activationStatistics:eb(),totalContacts:F.length,onUpdateActivation:eu,onDeleteActivation:eh,onDeleteAllData:ed,stationConfigs:ep}),m&&(0,a.jsx)(()=>{let t=ec(),r=eg();return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Estad\xedsticas del Logbook"}),(0,a.jsx)("button",{onClick:ef,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[I&&(0,a.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-green-800 dark:text-green-300 mb-3",children:"Activaci\xf3n Actual"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Tipo:"})," ",e("logbook.types.".concat(I.type))]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Motivo:"})," ",I.reason]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Contactos:"})," ",t.totalContacts]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Indicativos \xfanicos:"})," ",t.uniqueCallsigns]})]}),Object.keys(t.modeStats).length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h4",{className:"font-medium text-green-700 dark:text-green-400",children:"Por Modo:"}),(0,a.jsx)("div",{className:"text-xs space-y-1",children:Object.entries(t.modeStats).map(e=>{let[t,r]=e;return(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{children:[t,":"]}),(0,a.jsx)("span",{children:r})]},t)})})]}),Object.keys(t.bandStats).length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h4",{className:"font-medium text-green-700 dark:text-green-400",children:"Por Banda:"}),(0,a.jsx)("div",{className:"text-xs space-y-1",children:Object.entries(t.bandStats).map(e=>{let[t,r]=e;return(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{children:[t,":"]}),(0,a.jsx)("span",{children:r})]},t)})})]})]}),(0,a.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-blue-800 dark:text-blue-300 mb-3",children:"Estad\xedsticas Generales"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Total contactos:"})," ",r.totalContacts]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Indicativos \xfanicos:"})," ",r.uniqueCallsigns]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Total activaciones:"})," ",r.totalActivations]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Activaciones completadas:"})," ",r.completedActivations]})]}),Object.keys(r.modeStats).length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-700 dark:text-blue-400",children:"Por Modo:"}),(0,a.jsx)("div",{className:"text-xs space-y-1",children:Object.entries(r.modeStats).map(e=>{let[t,r]=e;return(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{children:[t,":"]}),(0,a.jsx)("span",{children:r})]},t)})})]}),Object.keys(r.bandStats).length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-700 dark:text-blue-400",children:"Por Banda:"}),(0,a.jsx)("div",{className:"text-xs space-y-1",children:Object.entries(r.bandStats).map(e=>{let[t,r]=e;return(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{children:[t,":"]}),(0,a.jsx)("span",{children:r})]},t)})})]})]})]})]})})},{}),(0,a.jsx)(()=>u?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Exportar por Activaci\xf3n"}),(0,a.jsx)("button",{onClick:()=>h(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[_.map(t=>{let r=F.filter(e=>e.activationId===t.id).length;return(0,a.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:[e("logbook.types.".concat(t.type))," - ",t.reason]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[(0,a.jsxs)("p",{children:["Fecha: ",new Date(t.startDate).toLocaleDateString()]}),(0,a.jsxs)("p",{children:["Estado: ",t.isActive?"Activa":"Finalizada"]}),(0,a.jsxs)("p",{children:[r," contactos"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:()=>ev(t.id,"json"),disabled:0===r,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium rounded-lg transition-colors disabled:cursor-not-allowed",children:[(0,a.jsx)(l.A,{className:"w-4 h-4"}),"JSON (",r,")"]}),(0,a.jsxs)("button",{onClick:()=>ev(t.id,"adif"),disabled:0===r,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-medium rounded-lg transition-colors disabled:cursor-not-allowed",children:[(0,a.jsx)(l.A,{className:"w-4 h-4"}),"ADIF (",r,")"]})]})]})},t.id)}),0===_.length&&(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No hay activaciones disponibles para exportar"})})]})]})}):null,{}),(0,a.jsx)(M,{contact:f,isOpen:j,onClose:()=>{N(!1),k(null)},onSave:(e,t)=>{G(e,t),N(!1),k(null)}}),(0,a.jsx)(P,{contact:S,isOpen:C,onClose:()=>{T(!1),A(null)},onConfirm:e=>{Z(e),T(!1),A(null)}})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[95,917,775,441,684,358],()=>t(6754)),_N_E=e.O()}]);
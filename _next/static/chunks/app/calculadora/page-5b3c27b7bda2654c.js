(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[314],{306:(e,t,r)=>{Promise.resolve().then(r.bind(r,4981))},720:(e,t,r)=>{"use strict";r.d(t,{D:()=>d,ThemeProvider:()=>o});var a=r(5155),n=r(2115);let l=(0,n.createContext)(void 0),s=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",o=e=>{let{children:t}=e,[r,o]=(0,n.useState)("light"),[d,i]=(0,n.useState)(!1),c=e=>{"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return(0,n.useEffect)(()=>{i(!0);let e=s();o(e),c(e);let t=window.matchMedia("(prefers-color-scheme: dark)"),r=e=>{let t=e.matches?"dark":"light";o(t),c(t)};return t.addEventListener("change",r),()=>t.removeEventListener("change",r)},[]),(0,a.jsx)(l.Provider,{value:{theme:r,mounted:d},children:t})},d=()=>{let e=(0,n.useContext)(l);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},4981:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>V});var a=r(5155),n=r(2115),l=r(6874),s=r.n(l),o=r(7550),d=r(3775),i=r(7565);let c=[{key:"antenna",translationKey:"calculator.tabs.antenna"},{key:"swr",translationKey:"calculator.tabs.swr"},{key:"cable-loss",translationKey:"calculator.tabs.cableLoss"},{key:"band-plan",translationKey:"calculator.tabs.bandPlan"}];function m(e){let{activeTab:t,onTabChange:r}=e,{t:n}=(0,d.o)();return(0,a.jsx)("nav",{role:"tablist","aria-label":n("calculator.tabs.label"),className:"flex overflow-x-auto border-b border-slate-200 dark:border-slate-700",children:c.map(e=>{let{key:l,translationKey:s}=e,o=t===l;return(0,a.jsx)("button",{role:"tab","aria-selected":o,"aria-controls":"panel-".concat(l),id:"tab-".concat(l),onClick:()=>r(l),className:"\n              shrink-0 px-4 py-3 text-sm font-medium transition-colors\n              focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500\n              ".concat(o?"border-b-2 border-blue-600 text-blue-600 dark:border-blue-400 dark:text-blue-400":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200","\n            "),children:n(s)},l)})})}function x(e){return 3.28084*e}function b(e){if(e<.1||e>3e3)throw Error("Frequency ".concat(e," MHz is out of valid range [").concat(.1,", ").concat(3e3,"] MHz"))}var u=r(720);function g(e){return e>=1?"".concat(e.toFixed(2)," m"):"".concat((100*e).toFixed(1)," cm")}function h(e){let{result:t,stroke:r,textFill:n,accentStroke:l}=e,s=t.elements[0],o=t.elements[1];return(0,a.jsxs)("svg",{viewBox:"0 0 400 200",className:"w-full h-auto max-h-64",role:"img","aria-label":"Dipole antenna diagram",children:[(0,a.jsx)("line",{x1:"40",y1:"100",x2:"195",y2:"100",stroke:r,strokeWidth:"3"}),(0,a.jsx)("line",{x1:"205",y1:"100",x2:"360",y2:"100",stroke:r,strokeWidth:"3"}),(0,a.jsx)("circle",{cx:"200",cy:"100",r:"6",fill:l}),(0,a.jsx)("line",{x1:"200",y1:"106",x2:"200",y2:"160",stroke:l,strokeWidth:"2",strokeDasharray:"4 3"}),(0,a.jsx)("text",{x:"200",y:"175",textAnchor:"middle",fill:n,fontSize:"11",children:"Feed"}),(0,a.jsx)("line",{x1:"40",y1:"70",x2:"195",y2:"70",stroke:n,strokeWidth:"1",markerEnd:"url(#arrowEnd)",markerStart:"url(#arrowStart)"}),(0,a.jsx)("text",{x:"117",y:"63",textAnchor:"middle",fill:n,fontSize:"11",children:s?g(s.lengthMeters):""}),(0,a.jsx)("line",{x1:"205",y1:"70",x2:"360",y2:"70",stroke:n,strokeWidth:"1",markerEnd:"url(#arrowEnd)",markerStart:"url(#arrowStart)"}),(0,a.jsx)("text",{x:"282",y:"63",textAnchor:"middle",fill:n,fontSize:"11",children:o?g(o.lengthMeters):""}),(0,a.jsxs)("text",{x:"200",y:"30",textAnchor:"middle",fill:n,fontSize:"12",fontWeight:"bold",children:["Total: ",g(t.totalLengthMeters)]}),(0,a.jsxs)("defs",{children:[(0,a.jsx)("marker",{id:"arrowEnd",markerWidth:"8",markerHeight:"6",refX:"8",refY:"3",orient:"auto",children:(0,a.jsx)("path",{d:"M0,0 L8,3 L0,6",fill:"none",stroke:n,strokeWidth:"1"})}),(0,a.jsx)("marker",{id:"arrowStart",markerWidth:"8",markerHeight:"6",refX:"0",refY:"3",orient:"auto",children:(0,a.jsx)("path",{d:"M8,0 L0,3 L8,6",fill:"none",stroke:n,strokeWidth:"1"})})]})]})}function f(e){let{result:t,stroke:r,textFill:n,accentStroke:l}=e,s=t.elements[0];return(0,a.jsxs)("svg",{viewBox:"0 0 400 280",className:"w-full h-auto max-h-64",role:"img","aria-label":"Vertical antenna diagram",children:[(0,a.jsx)("line",{x1:"200",y1:"30",x2:"200",y2:"180",stroke:r,strokeWidth:"3"}),(0,a.jsx)("line",{x1:"60",y1:"180",x2:"340",y2:"180",stroke:n,strokeWidth:"1",strokeDasharray:"6 3"}),(0,a.jsx)("line",{x1:"200",y1:"180",x2:"100",y2:"230",stroke:l,strokeWidth:"2"}),(0,a.jsx)("line",{x1:"200",y1:"180",x2:"150",y2:"240",stroke:l,strokeWidth:"2"}),(0,a.jsx)("line",{x1:"200",y1:"180",x2:"250",y2:"240",stroke:l,strokeWidth:"2"}),(0,a.jsx)("line",{x1:"200",y1:"180",x2:"300",y2:"230",stroke:l,strokeWidth:"2"}),(0,a.jsx)("circle",{cx:"200",cy:"180",r:"5",fill:l}),(0,a.jsx)("line",{x1:"230",y1:"30",x2:"230",y2:"180",stroke:n,strokeWidth:"1",markerEnd:"url(#arrowEndV)",markerStart:"url(#arrowStartV)"}),(0,a.jsx)("text",{x:"260",y:"110",textAnchor:"start",fill:n,fontSize:"11",children:s?g(s.lengthMeters):""}),(0,a.jsxs)("text",{x:"200",y:"18",textAnchor:"middle",fill:n,fontSize:"12",fontWeight:"bold",children:["λ/4: ",g(t.totalLengthMeters)]}),(0,a.jsx)("text",{x:"200",y:"265",textAnchor:"middle",fill:n,fontSize:"11",children:"Radiales"}),(0,a.jsxs)("defs",{children:[(0,a.jsx)("marker",{id:"arrowEndV",markerWidth:"8",markerHeight:"6",refX:"8",refY:"3",orient:"auto",children:(0,a.jsx)("path",{d:"M0,0 L8,3 L0,6",fill:"none",stroke:n,strokeWidth:"1"})}),(0,a.jsx)("marker",{id:"arrowStartV",markerWidth:"8",markerHeight:"6",refX:"0",refY:"3",orient:"auto",children:(0,a.jsx)("path",{d:"M8,0 L0,3 L8,6",fill:"none",stroke:n,strokeWidth:"1"})})]})]})}function p(e){let{result:t,stroke:r,textFill:n,accentStroke:l}=e,s=t.elements,o=s.length,d=Math.min(60,240/(o-1)),i=40+(320-d*(o-1))/2;return(0,a.jsxs)("svg",{viewBox:"0 0 400 280",className:"w-full h-auto max-h-64",role:"img","aria-label":"Yagi antenna diagram",children:[(0,a.jsx)("line",{x1:i,y1:140,x2:i+d*(o-1),y2:140,stroke:n,strokeWidth:"2"}),s.map((e,t)=>{let o=i+t*d,c=Math.max(...s.map(e=>e.lengthMeters)),m=c>0?e.lengthMeters/c*90:40,x="Elemento activo"===e.name;return(0,a.jsxs)("g",{children:[(0,a.jsx)("line",{x1:o,y1:140-m,x2:o,y2:140+m,stroke:x?l:r,strokeWidth:x?3:2}),(0,a.jsx)("text",{x:o,y:140+m+16,textAnchor:"middle",fill:n,fontSize:"9",children:e.name}),(0,a.jsx)("text",{x:o,y:140+m+28,textAnchor:"middle",fill:n,fontSize:"8",children:g(e.lengthMeters)})]},t)}),(0,a.jsx)("text",{x:"360",y:145,textAnchor:"end",fill:n,fontSize:"11",children:"→ Dir."}),(0,a.jsxs)("text",{x:"200",y:"18",textAnchor:"middle",fill:n,fontSize:"12",fontWeight:"bold",children:["Yagi — ",o," elementos"]})]})}function M(e){let{result:t,stroke:r,textFill:n,accentStroke:l}=e,s=t.elements.find(e=>e.name.includes("Circunferencia")),o=t.elements.find(e=>e.name.includes("Di\xe1metro"));return(0,a.jsxs)("svg",{viewBox:"0 0 400 300",className:"w-full h-auto max-h-64",role:"img","aria-label":"Magnetic loop antenna diagram",children:[(0,a.jsx)("circle",{cx:200,cy:150,r:70,fill:"none",stroke:r,strokeWidth:"3"}),(0,a.jsx)("line",{x1:192,y1:80,x2:192,y2:64,stroke:l,strokeWidth:"2"}),(0,a.jsx)("line",{x1:208,y1:80,x2:208,y2:64,stroke:l,strokeWidth:"2"}),(0,a.jsx)("line",{x1:186,y1:64,x2:198,y2:64,stroke:l,strokeWidth:"2"}),(0,a.jsx)("line",{x1:202,y1:64,x2:214,y2:64,stroke:l,strokeWidth:"2"}),(0,a.jsx)("text",{x:200,y:58,textAnchor:"middle",fill:n,fontSize:"10",children:"Capacitor"}),(0,a.jsx)("circle",{cx:200,cy:220,r:"4",fill:l}),(0,a.jsx)("line",{x1:200,y1:224,x2:200,y2:250,stroke:l,strokeWidth:"2",strokeDasharray:"4 3"}),(0,a.jsx)("text",{x:200,y:264,textAnchor:"middle",fill:n,fontSize:"10",children:"Feed"}),(0,a.jsx)("line",{x1:130,y1:150,x2:270,y2:150,stroke:n,strokeWidth:"1",strokeDasharray:"4 2"}),(0,a.jsxs)("text",{x:200,y:142,textAnchor:"middle",fill:n,fontSize:"11",children:["⌀ ",o?g(o.lengthMeters):""]}),(0,a.jsxs)("text",{x:282,y:154,textAnchor:"start",fill:n,fontSize:"10",children:["C = ",s?g(s.lengthMeters):""]}),(0,a.jsx)("text",{x:200,y:"24",textAnchor:"middle",fill:n,fontSize:"12",fontWeight:"bold",children:"Loop Magn\xe9tico"})]})}function k(e){let{result:t,antennaType:r}=e,{theme:n}=(0,u.D)(),l="dark"===n,s={result:t,stroke:l?"#e2e8f0":"#1e293b",textFill:l?"#cbd5e1":"#334155",accentStroke:l?"#f97316":"#ea580c"};return(0,a.jsxs)("div",{className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/50 p-4",children:["dipole"===r&&(0,a.jsx)(h,{...s}),"vertical"===r&&(0,a.jsx)(f,{...s}),"yagi"===r&&(0,a.jsx)(p,{...s}),"magnetic-loop"===r&&(0,a.jsx)(M,{...s})]})}let F="calculator-favorites",z=0;function y(){try{let e=localStorage.getItem(F);if(!e)return[];let t=JSON.parse(e);if(!Array.isArray(t))return localStorage.setItem(F,"[]"),[];return t}catch(e){try{localStorage.setItem(F,"[]")}catch(e){}return[]}}function q(){let[e,t]=(0,n.useState)(!1),[r,a]=(0,n.useState)([]);(0,n.useEffect)(()=>{let e=function(){try{let e="__storage_test__";return localStorage.setItem(e,"test"),localStorage.removeItem(e),!0}catch(e){return!1}}();t(e),e&&a(y())},[]);let l=(0,n.useCallback)((t,r,n,l)=>{if(!e)return!1;let s={id:"fav_".concat(Date.now(),"_").concat(z++),name:t,type:r,params:n,result:l,createdAt:new Date().toISOString()};try{let e=[...y(),s];return localStorage.setItem(F,JSON.stringify(e)),a(e),!0}catch(e){return e instanceof DOMException&&e.name,!1}},[e]),s=(0,n.useCallback)(e=>{var t;return null!=(t=r.find(t=>t.id===e))?t:null},[r]);return{favorites:r,saveFavorite:l,loadFavorite:s,deleteFavorite:(0,n.useCallback)(t=>{if(!e)return;let r=y().filter(e=>e.id!==t);try{localStorage.setItem(F,JSON.stringify(r))}catch(e){}a(r)},[e]),storageAvailable:e}}let H=["dipole","vertical","yagi","magnetic-loop"],j={dipole:"calculator.antenna.type.dipole",vertical:"calculator.antenna.type.vertical",yagi:"calculator.antenna.type.yagi","magnetic-loop":"calculator.antenna.type.magneticLoop"};function v(e){let{onFrequencyChange:t}=e,{t:r}=(0,d.o)(),{saveFavorite:l,storageAvailable:s}=q(),[o,i]=(0,n.useState)("dipole"),[c,m]=(0,n.useState)(""),[u,g]=(0,n.useState)("3"),[h,f]=(0,n.useState)(""),[p,M]=(0,n.useState)(null),F=parseFloat(c),z=parseInt(u,10),y=(0,n.useMemo)(()=>""===c?null:isNaN(F)?r("calculator.antenna.error.invalidFrequency"):F<.1||F>3e3?r("calculator.antenna.error.frequencyRange"):null,[c,F,r]),v=(0,n.useMemo)(()=>"yagi"!==o||""===u?null:isNaN(z)||!Number.isInteger(z)?r("calculator.antenna.error.invalidElements"):z<3?r("calculator.antenna.error.minElements"):null,[o,u,z,r]),w=(0,n.useMemo)(()=>{if(""===c||isNaN(F)||F<.1||F>3e3||"yagi"===o&&(isNaN(z)||z<3))return null;let e={type:o,frequencyMHz:F,..."yagi"===o?{elements:z}:{}};try{return function(e){switch(e.type){case"dipole":var t,r=e.frequencyMHz;b(r);let a=143/r,n=a/2;return{totalLengthMeters:a,totalLengthFeet:x(a),elements:[{name:"Brazo 1",lengthMeters:n,lengthFeet:x(n)},{name:"Brazo 2",lengthMeters:n,lengthFeet:x(n)}]};case"vertical":var l=e.frequencyMHz;b(l);let s=71.5/l;return{totalLengthMeters:s,totalLengthFeet:x(s),elements:[{name:"Elemento vertical",lengthMeters:s,lengthFeet:x(s)}]};case"yagi":return function(e,t){if(b(e),t<3)throw Error("Yagi antenna requires at least 3 elements, got ".concat(t));let r=299.792458/e,a=.495*r,n=.473*r,l=.44*r,s=[{name:"Reflector",lengthMeters:a,lengthFeet:x(a)},{name:"Elemento activo",lengthMeters:n,lengthFeet:x(n)}];for(let e=1;e<=t-2;e++){let t=l*(1-.02*(e-1));s.push({name:"Director ".concat(e),lengthMeters:t,lengthFeet:x(t)})}let o=s.reduce((e,t)=>e+t.lengthMeters,0);return{totalLengthMeters:o,totalLengthFeet:x(o),elements:s}}(e.frequencyMHz,null!=(t=e.elements)?t:3);case"magnetic-loop":var o=e.frequencyMHz;b(o);let d=299.792458/o*.25,i=d/Math.PI;return{totalLengthMeters:d,totalLengthFeet:x(d),elements:[{name:"Circunferencia del loop",lengthMeters:d,lengthFeet:x(d)},{name:"Di\xe1metro del loop",lengthMeters:i,lengthFeet:x(i)}]};default:throw Error("Unknown antenna type: ".concat(e.type))}}(e)}catch(e){return null}},[o,F,c,z]),N=(0,n.useCallback)(e=>{m(e);let r=parseFloat(e);!isNaN(r)&&r>=.1&&r<=3e3&&(null==t||t(r))},[t]),R=(0,n.useCallback)(()=>{if(!w||!h.trim())return;let e={type:o,frequencyMHz:F,..."yagi"===o?{elements:z}:{}};l(h.trim(),"antenna",e,w)?(M({type:"success",text:r("calculator.antenna.favorites.saved")}),f("")):M({type:"error",text:r("calculator.antenna.favorites.error")}),setTimeout(()=>M(null),3e3)},[w,h,o,F,z,l,r]);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/50 p-4 sm:p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:r("calculator.antenna.title")}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"antenna-type",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:r("calculator.antenna.typeLabel")}),(0,a.jsx)("select",{id:"antenna-type",value:o,onChange:e=>i(e.target.value),className:"w-full rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-3 py-2 text-sm text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:H.map(e=>(0,a.jsx)("option",{value:e,children:r(j[e])},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"antenna-frequency",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:r("calculator.antenna.frequencyLabel")}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{id:"antenna-frequency",type:"number",min:"0.1",max:"3000",step:"any",value:c,onChange:e=>N(e.target.value),placeholder:"0.1 – 3000",className:"w-full rounded-md border px-3 py-2 pr-14 text-sm text-slate-900 dark:text-slate-100 bg-white dark:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(y?"border-red-500 dark:border-red-400":"border-slate-300 dark:border-slate-600"),"aria-invalid":!!y,"aria-describedby":y?"frequency-error":void 0}),(0,a.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-slate-400 dark:text-slate-500",children:"MHz"})]}),y&&(0,a.jsx)("p",{id:"frequency-error",className:"mt-1 text-xs text-red-600 dark:text-red-400",role:"alert",children:y})]}),"yagi"===o&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"antenna-elements",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:r("calculator.antenna.elementsLabel")}),(0,a.jsx)("input",{id:"antenna-elements",type:"number",min:"3",step:"1",value:u,onChange:e=>g(e.target.value),placeholder:"≥ 3",className:"w-full rounded-md border px-3 py-2 text-sm text-slate-900 dark:text-slate-100 bg-white dark:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(v?"border-red-500 dark:border-red-400":"border-slate-300 dark:border-slate-600"),"aria-invalid":!!v,"aria-describedby":v?"elements-error":void 0}),v&&(0,a.jsx)("p",{id:"elements-error",className:"mt-1 text-xs text-red-600 dark:text-red-400",role:"alert",children:v})]})]})]}),w&&(0,a.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/50 p-4 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-md font-semibold text-slate-900 dark:text-slate-100 mb-3",children:r("calculator.antenna.results")}),(0,a.jsx)("div",{className:"mb-4 flex flex-wrap gap-4",children:(0,a.jsxs)("div",{className:"rounded-md bg-blue-50 dark:bg-blue-900/30 px-4 py-2",children:[(0,a.jsx)("span",{className:"block text-xs text-slate-500 dark:text-slate-400",children:r("calculator.antenna.totalLength")}),(0,a.jsxs)("span",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:[w.totalLengthMeters.toFixed(2)," m"]}),(0,a.jsxs)("span",{className:"ml-2 text-sm text-slate-500 dark:text-slate-400",children:["(",w.totalLengthFeet.toFixed(2)," ft)"]})]})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[(0,a.jsx)("th",{className:"text-left py-2 pr-4 font-medium text-slate-600 dark:text-slate-400",children:r("calculator.antenna.element")}),(0,a.jsx)("th",{className:"text-right py-2 px-4 font-medium text-slate-600 dark:text-slate-400",children:r("calculator.antenna.meters")}),(0,a.jsx)("th",{className:"text-right py-2 pl-4 font-medium text-slate-600 dark:text-slate-400",children:r("calculator.antenna.feet")})]})}),(0,a.jsx)("tbody",{children:w.elements.map((e,t)=>(0,a.jsxs)("tr",{className:"border-b border-slate-100 dark:border-slate-700/50",children:[(0,a.jsx)("td",{className:"py-2 pr-4 text-slate-800 dark:text-slate-200",children:e.name}),(0,a.jsxs)("td",{className:"py-2 px-4 text-right font-mono text-slate-700 dark:text-slate-300",children:[e.lengthMeters.toFixed(3)," m"]}),(0,a.jsxs)("td",{className:"py-2 pl-4 text-right font-mono text-slate-700 dark:text-slate-300",children:[e.lengthFeet.toFixed(3)," ft"]})]},t))})]})})]}),w&&(0,a.jsx)(k,{result:w,antennaType:o}),w&&s&&(0,a.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/50 p-4 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-md font-semibold text-slate-900 dark:text-slate-100 mb-3",children:r("calculator.antenna.favorites.title")}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,a.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),placeholder:r("calculator.antenna.favorites.placeholder"),className:"flex-1 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-3 py-2 text-sm text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":r("calculator.antenna.favorites.nameLabel")}),(0,a.jsx)("button",{onClick:R,disabled:!h.trim(),className:"shrink-0 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r("calculator.antenna.favorites.save")})]}),p&&(0,a.jsx)("p",{className:"mt-2 text-xs ".concat("success"===p.type?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),role:"status",children:p.text})]})]})}function w(e){return(Math.max(1,Math.min(e,3))-1)/2*180-90}function N(e,t,r,a,n){let l=180-(a+90),s=180-(n+90),o=R(e,t,r,s),d=R(e,t,r,l),i=+(Math.abs(l-s)>180);return"M ".concat(o.x," ").concat(o.y," A ").concat(r," ").concat(r," 0 ").concat(i," 1 ").concat(d.x," ").concat(d.y)}function R(e,t,r,a){let n=a*Math.PI/180;return{x:e+r*Math.cos(n),y:t-r*Math.sin(n)}}function S(e){switch(e){case"excellent":return"Excelente";case"acceptable":return"Aceptable";case"poor":return"Pobre"}}function B(e){let{result:t}=e,{theme:r}=(0,u.D)(),n="dark"===r,l=n?"#cbd5e1":"#334155",s=n?"#f8fafc":"#0f172a",o=n?"#4ade80":"#22c55e",d=n?"#facc15":"#eab308",i=n?"#f87171":"#ef4444",c="excellent"===t.rating?o:"acceptable"===t.rating?d:i,m=w(1.5),x=w(2),b=w(t.swr),g=R(200,170,135,180-(b+90)),h=R(200,170,12,180-(b+90)+90),f=R(200,170,12,180-(b+90)-90);return(0,a.jsx)("div",{className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/50 p-4",children:(0,a.jsxs)("svg",{viewBox:"0 0 400 230",className:"w-full h-auto max-h-64",role:"img","aria-label":"SWR gauge showing ".concat(t.swr," - ").concat(S(t.rating)),children:[(0,a.jsx)("path",{d:N(200,170,115,-90,90),fill:"none",stroke:n?"#334155":"#e2e8f0",strokeWidth:30,strokeLinecap:"butt"}),(0,a.jsx)("path",{d:N(200,170,115,-90,m),fill:"none",stroke:o,strokeWidth:30,strokeLinecap:"butt",opacity:.85}),(0,a.jsx)("path",{d:N(200,170,115,m,x),fill:"none",stroke:d,strokeWidth:30,strokeLinecap:"butt",opacity:.85}),(0,a.jsx)("path",{d:N(200,170,115,x,90),fill:"none",stroke:i,strokeWidth:30,strokeLinecap:"butt",opacity:.85}),[{swr:1,label:"1.0"},{swr:1.5,label:"1.5"},{swr:2,label:"2.0"},{swr:2.5,label:"2.5"},{swr:3,label:"3.0"}].map(e=>{let{swr:t,label:r}=e,n=180-(w(t)+90),s=R(200,170,134,n),o=R(200,170,96,n),d=R(200,170,148,n);return(0,a.jsxs)("g",{children:[(0,a.jsx)("line",{x1:o.x,y1:o.y,x2:s.x,y2:s.y,stroke:l,strokeWidth:"1.5"}),(0,a.jsx)("text",{x:d.x,y:d.y,textAnchor:"middle",dominantBaseline:"middle",fill:l,fontSize:"11",children:r})]},t)}),(0,a.jsx)("polygon",{points:"".concat(g.x,",").concat(g.y," ").concat(h.x,",").concat(h.y," ").concat(f.x,",").concat(f.y),fill:s,opacity:.9}),(0,a.jsx)("circle",{cx:200,cy:170,r:"8",fill:s,opacity:.9}),(0,a.jsx)("text",{x:200,y:145,textAnchor:"middle",fill:l,fontSize:"28",fontWeight:"bold",children:t.swr.toFixed(2)}),(0,a.jsx)("text",{x:200,y:162,textAnchor:"middle",fill:l,fontSize:"11",children:"SWR"}),(0,a.jsx)("text",{x:200,y:200,textAnchor:"middle",fill:c,fontSize:"14",fontWeight:"bold",children:S(t.rating)})]})})}function W(){let{t:e}=(0,d.o)(),{saveFavorite:t,storageAvailable:r}=q(),[l,s]=(0,n.useState)(""),[o,i]=(0,n.useState)("50"),[c,m]=(0,n.useState)(""),[x,b]=(0,n.useState)(null),u=parseFloat(l),g=parseFloat(o),h=(0,n.useMemo)(()=>""===l?null:isNaN(u)?e("calculator.swr.error.invalidImpedance"):u<=0?e("calculator.swr.error.impedancePositive"):null,[l,u,e]),f=(0,n.useMemo)(()=>""===o?null:isNaN(g)?e("calculator.swr.error.invalidImpedance"):g<=0?e("calculator.swr.error.impedancePositive"):null,[o,g,e]),p=(0,n.useMemo)(()=>{if(""===l||""===o||isNaN(u)||isNaN(g)||u<=0||g<=0)return null;try{return function(e){let t,{antennaImpedance:r,lineImpedance:a}=e;if(r<=0||a<=0)throw Error("Impedances must be greater than 0. Got antenna=".concat(r,", line=").concat(a));let n=Math.max(r,a)/Math.min(r,a),l=(n-1)/(n+1),s=-20*Math.log10(l),o=Math.round(100*n)/100;return t=o<=1.5?"excellent":o<=2?"acceptable":"poor",{swr:o,rating:t,returnLoss:s,reflectionCoefficient:l}}({antennaImpedance:u,lineImpedance:g})}catch(e){return null}},[l,o,u,g]),M=(0,n.useCallback)(()=>{p&&c.trim()&&(t(c.trim(),"swr",{antennaImpedance:u,lineImpedance:g},p)?(b({type:"success",text:e("calculator.swr.favorites.saved")}),m("")):b({type:"error",text:e("calculator.swr.favorites.error")}),setTimeout(()=>b(null),3e3))},[p,c,u,g,t,e]),k=p?"excellent"===p.rating?"text-green-600 dark:text-green-400":"acceptable"===p.rating?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400":"";return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/50 p-4 sm:p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:e("calculator.swr.title")}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"swr-antenna-impedance",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:e("calculator.swr.antennaImpedanceLabel")}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{id:"swr-antenna-impedance",type:"number",min:"0",step:"any",value:l,onChange:e=>s(e.target.value),placeholder:e("calculator.swr.antennaImpedancePlaceholder"),className:"w-full rounded-md border px-3 py-2 pr-10 text-sm text-slate-900 dark:text-slate-100 bg-white dark:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(h?"border-red-500 dark:border-red-400":"border-slate-300 dark:border-slate-600"),"aria-invalid":!!h,"aria-describedby":h?"antenna-impedance-error":void 0}),(0,a.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-slate-400 dark:text-slate-500",children:"Ω"})]}),h&&(0,a.jsx)("p",{id:"antenna-impedance-error",className:"mt-1 text-xs text-red-600 dark:text-red-400",role:"alert",children:h})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"swr-line-impedance",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:e("calculator.swr.lineImpedanceLabel")}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{id:"swr-line-impedance",type:"number",min:"0",step:"any",value:o,onChange:e=>i(e.target.value),placeholder:"50",className:"w-full rounded-md border px-3 py-2 pr-10 text-sm text-slate-900 dark:text-slate-100 bg-white dark:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(f?"border-red-500 dark:border-red-400":"border-slate-300 dark:border-slate-600"),"aria-invalid":!!f,"aria-describedby":f?"line-impedance-error":void 0}),(0,a.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-slate-400 dark:text-slate-500",children:"Ω"})]}),f&&(0,a.jsx)("p",{id:"line-impedance-error",className:"mt-1 text-xs text-red-600 dark:text-red-400",role:"alert",children:f})]})]})]}),p&&(0,a.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/50 p-4 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-md font-semibold text-slate-900 dark:text-slate-100 mb-3",children:e("calculator.swr.results")}),(0,a.jsxs)("div",{className:"mb-4 flex flex-wrap gap-4",children:[(0,a.jsxs)("div",{className:"rounded-md bg-blue-50 dark:bg-blue-900/30 px-4 py-2",children:[(0,a.jsx)("span",{className:"block text-xs text-slate-500 dark:text-slate-400",children:"SWR"}),(0,a.jsx)("span",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:p.swr.toFixed(2)}),(0,a.jsx)("span",{className:"ml-2 text-sm font-medium ".concat(k),children:e("calculator.swr.rating.".concat(p.rating))})]}),(0,a.jsxs)("div",{className:"rounded-md bg-blue-50 dark:bg-blue-900/30 px-4 py-2",children:[(0,a.jsx)("span",{className:"block text-xs text-slate-500 dark:text-slate-400",children:e("calculator.swr.reflectionCoefficient")}),(0,a.jsx)("span",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:p.reflectionCoefficient.toFixed(4)})]}),(0,a.jsxs)("div",{className:"rounded-md bg-blue-50 dark:bg-blue-900/30 px-4 py-2",children:[(0,a.jsx)("span",{className:"block text-xs text-slate-500 dark:text-slate-400",children:e("calculator.swr.returnLoss")}),(0,a.jsxs)("span",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:[p.returnLoss.toFixed(2)," dB"]})]})]}),"poor"===p.rating&&(0,a.jsxs)("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",role:"alert",children:["⚠️ ",e("calculator.swr.warning.poor")]})]}),p&&(0,a.jsx)(B,{result:p}),p&&r&&(0,a.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/50 p-4 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-md font-semibold text-slate-900 dark:text-slate-100 mb-3",children:e("calculator.swr.favorites.title")}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,a.jsx)("input",{type:"text",value:c,onChange:e=>m(e.target.value),placeholder:e("calculator.swr.favorites.placeholder"),className:"flex-1 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-3 py-2 text-sm text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":e("calculator.swr.favorites.nameLabel")}),(0,a.jsx)("button",{onClick:M,disabled:!c.trim(),className:"shrink-0 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e("calculator.swr.favorites.save")})]}),x&&(0,a.jsx)("p",{className:"mt-2 text-xs ".concat("success"===x.type?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),role:"status",children:x.text})]})]})}let C={"RG-58":{type:"RG-58",impedance:50,attenuation:{1:1.2,10:3.9,50:8.9,100:12.8,200:18.7,400:27.5,1e3:47},velocityFactor:.66},"RG-213":{type:"RG-213",impedance:50,attenuation:{1:.6,10:1.9,50:4.3,100:6.2,200:8.9,400:13,1e3:21.5},velocityFactor:.66},"LMR-400":{type:"LMR-400",impedance:50,attenuation:{1:.3,10:1,50:2.2,100:3.2,200:4.6,400:6.7,1e3:11},velocityFactor:.85},"RG-8":{type:"RG-8",impedance:50,attenuation:{1:.6,10:2,50:4.5,100:6.5,200:9.4,400:13.8,1e3:23},velocityFactor:.66},"RG-174":{type:"RG-174",impedance:50,attenuation:{1:2.4,10:7.7,50:17.7,100:25.6,200:37.4,400:55,1e3:95},velocityFactor:.66},"LMR-600":{type:"LMR-600",impedance:50,attenuation:{1:.2,10:.6,50:1.4,100:2,200:2.9,400:4.2,1e3:6.9},velocityFactor:.87}};function D(e,t){let r=Math.max(0,Math.min(e,6))/6,a=Math.round(r<.5?2*r*255:255),n=Math.round(r<.5?255:(1-(r-.5)*2)*255);return t?"rgb(".concat(Math.min(a+30,255),", ").concat(Math.min(n+30,255),", ").concat(0,")"):"rgb(".concat(a,", ").concat(n,", ").concat(0,")")}function L(e){let{result:t,input:r}=e,{theme:n}=(0,u.D)(),l="dark"===n,s=l?"#cbd5e1":"#334155",o=l?"#e2e8f0":"#1e293b",d=l?"#1e293b":"#f1f5f9",i=l?"#f87171":"#ef4444",c=l?"#f97316":"#ea580c",m="cableLossGradient",x=Array.from({length:5},(e,r)=>{let a=r/4,n=a*t.totalLossDb;return{x:50+300*a,lossDb:n,t:a}}),b=D(0,l),g=D(t.totalLossDb,l);return(0,a.jsx)("div",{className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/50 p-4",children:(0,a.jsxs)("svg",{viewBox:"0 0 400 220",className:"w-full h-auto max-h-64",role:"img","aria-label":"Cable diagram showing ".concat(t.totalLossDb," dB loss for ").concat(r.cableType,", ").concat(r.lengthMeters,"m at ").concat(r.frequencyMHz," MHz"),children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:m,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,a.jsx)("stop",{offset:"0%",stopColor:b}),(0,a.jsx)("stop",{offset:"50%",stopColor:D(t.totalLossDb/2,l)}),(0,a.jsx)("stop",{offset:"100%",stopColor:g})]})}),(0,a.jsxs)("text",{x:"200",y:"22",textAnchor:"middle",fill:s,fontSize:"12",fontWeight:"bold",children:[r.cableType," — ",r.lengthMeters," m @ ",r.frequencyMHz," MHz"]}),(0,a.jsx)("rect",{x:36,y:78,width:"14",height:28,rx:"2",fill:d,stroke:o,strokeWidth:"1.5"}),(0,a.jsx)("text",{x:43,y:122,textAnchor:"middle",fill:s,fontSize:"10",children:"TX"}),(0,a.jsx)("rect",{x:50,y:80,width:300,height:24,rx:"4",fill:"url(#".concat(m,")"),stroke:o,strokeWidth:"1.5"}),(0,a.jsx)("rect",{x:350,y:78,width:"14",height:28,rx:"2",fill:d,stroke:o,strokeWidth:"1.5"}),(0,a.jsx)("text",{x:357,y:122,textAnchor:"middle",fill:s,fontSize:"10",children:"ANT"}),x.map((e,t)=>(0,a.jsxs)("g",{children:[(0,a.jsx)("line",{x1:e.x,y1:106,x2:e.x,y2:112,stroke:s,strokeWidth:"1"}),(0,a.jsxs)("text",{x:e.x,y:136,textAnchor:"middle",fill:s,fontSize:"9",children:["-",e.lossDb.toFixed(1)," dB"]})]},t)),(0,a.jsx)("text",{x:"60",y:"165",fill:s,fontSize:"11",children:"P\xe9rdida total:"}),(0,a.jsxs)("text",{x:"160",y:"165",fill:t.warning?i:c,fontSize:"11",fontWeight:"bold",children:[t.totalLossDb.toFixed(2)," dB"]}),(0,a.jsx)("text",{x:"60",y:"182",fill:s,fontSize:"11",children:"P\xe9rdida/metro:"}),(0,a.jsxs)("text",{x:"160",y:"182",fill:c,fontSize:"11",fontWeight:"bold",children:[t.lossPerMeter.toFixed(3)," dB/m"]}),(0,a.jsx)("text",{x:"230",y:"165",fill:s,fontSize:"11",children:"Potencia retenida:"}),(0,a.jsxs)("text",{x:"345",y:"165",fill:c,fontSize:"11",fontWeight:"bold",children:[t.powerRetainedPercent.toFixed(1),"%"]}),t.warning&&(0,a.jsxs)("g",{children:[(0,a.jsx)("polygon",{points:"240,178 248,192 232,192",fill:i,stroke:i,strokeWidth:"1",strokeLinejoin:"round"}),(0,a.jsx)("text",{x:"240",y:"190",textAnchor:"middle",fill:l?"#0f172a":"#ffffff",fontSize:"9",fontWeight:"bold",children:"!"}),(0,a.jsx)("text",{x:"256",y:"190",fill:i,fontSize:"10",fontWeight:"bold",children:"P\xe9rdida significativa (>3 dB)"})]}),(0,a.jsx)("line",{x1:50,y1:68,x2:350,y2:68,stroke:s,strokeWidth:"1",opacity:"0.5"}),(0,a.jsx)("polygon",{points:"".concat(344,",").concat(64," ").concat(350,",").concat(68," ").concat(344,",").concat(72),fill:s,opacity:"0.5"}),(0,a.jsx)("text",{x:"200",y:62,textAnchor:"middle",fill:s,fontSize:"9",opacity:"0.7",children:"Flujo de se\xf1al →"})]})})}let P=["RG-58","RG-213","LMR-400","RG-8","RG-174","LMR-600"];function A(e){let{initialFrequency:t}=e,{t:r}=(0,d.o)(),{saveFavorite:l,storageAvailable:s}=q(),[o,i]=(0,n.useState)("RG-58"),[c,m]=(0,n.useState)(""),[x,b]=(0,n.useState)(t?String(t):""),[u,g]=(0,n.useState)(""),[h,f]=(0,n.useState)(null),p=parseFloat(c),M=parseFloat(x),k=(0,n.useMemo)(()=>""===c?null:isNaN(p)?r("calculator.cable.error.invalidLength"):p<=0?r("calculator.cable.error.lengthPositive"):null,[c,p,r]),F=(0,n.useMemo)(()=>""===x?null:isNaN(M)?r("calculator.cable.error.invalidFrequency"):M<=0?r("calculator.cable.error.frequencyPositive"):null,[x,M,r]),z=(0,n.useMemo)(()=>""===c||""===x||isNaN(p)||isNaN(M)||p<=0||M<=0?null:{cableType:o,lengthMeters:p,frequencyMHz:M},[o,c,x,p,M]),y=(0,n.useMemo)(()=>{if(!z)return null;try{let{cableType:e,lengthMeters:t,frequencyMHz:r}=z;if(t<=0)throw Error("Cable length must be greater than 0. Got ".concat(t));if(r<=0)throw Error("Frequency must be greater than 0. Got ".concat(r));let a=function(e,t){let r=Object.keys(e).map(Number).sort((e,t)=>e-t);if(t<=r[0])return e[r[0]];if(t>=r[r.length-1])return e[r[r.length-1]];for(let a=0;a<r.length-1;a++)if(t>=r[a]&&t<=r[a+1]){let n=Math.log10(t),l=Math.log10(r[a]),s=(n-l)/(Math.log10(r[a+1])-l);return e[r[a]]+s*(e[r[a+1]]-e[r[a]])}return e[r[0]]}(C[e].attenuation,r)/100,n=a*t,l=100*Math.pow(10,-n/10);return{totalLossDb:Math.round(100*n)/100,lossPerMeter:Math.round(1e3*a)/1e3,powerRetainedPercent:Math.round(10*l)/10,warning:n>3}}catch(e){return null}},[z]),H=(0,n.useCallback)(()=>{y&&z&&u.trim()&&(l(u.trim(),"cable-loss",z,y)?(f({type:"success",text:r("calculator.cable.favorites.saved")}),g("")):f({type:"error",text:r("calculator.cable.favorites.error")}),setTimeout(()=>f(null),3e3))},[y,z,u,l,r]);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/50 p-4 sm:p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:r("calculator.cable.title")}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"cable-type",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:r("calculator.cable.typeLabel")}),(0,a.jsx)("select",{id:"cable-type",value:o,onChange:e=>i(e.target.value),className:"w-full rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-3 py-2 text-sm text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:P.map(e=>(0,a.jsxs)("option",{value:e,children:[e," (",C[e].impedance,"Ω)"]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"cable-length",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:r("calculator.cable.lengthLabel")}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{id:"cable-length",type:"number",min:"0",step:"any",value:c,onChange:e=>m(e.target.value),placeholder:"> 0",className:"w-full rounded-md border px-3 py-2 pr-10 text-sm text-slate-900 dark:text-slate-100 bg-white dark:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(k?"border-red-500 dark:border-red-400":"border-slate-300 dark:border-slate-600"),"aria-invalid":!!k,"aria-describedby":k?"cable-length-error":void 0}),(0,a.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-slate-400 dark:text-slate-500",children:"m"})]}),k&&(0,a.jsx)("p",{id:"cable-length-error",className:"mt-1 text-xs text-red-600 dark:text-red-400",role:"alert",children:k})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"cable-frequency",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:r("calculator.cable.frequencyLabel")}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{id:"cable-frequency",type:"number",min:"0",step:"any",value:x,onChange:e=>b(e.target.value),placeholder:"> 0",className:"w-full rounded-md border px-3 py-2 pr-14 text-sm text-slate-900 dark:text-slate-100 bg-white dark:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(F?"border-red-500 dark:border-red-400":"border-slate-300 dark:border-slate-600"),"aria-invalid":!!F,"aria-describedby":F?"cable-frequency-error":void 0}),(0,a.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-slate-400 dark:text-slate-500",children:"MHz"})]}),F&&(0,a.jsx)("p",{id:"cable-frequency-error",className:"mt-1 text-xs text-red-600 dark:text-red-400",role:"alert",children:F})]})]})]}),y&&(0,a.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/50 p-4 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-md font-semibold text-slate-900 dark:text-slate-100 mb-3",children:r("calculator.cable.results")}),(0,a.jsxs)("div",{className:"mb-4 flex flex-wrap gap-4",children:[(0,a.jsxs)("div",{className:"rounded-md px-4 py-2 ".concat(y.warning?"bg-red-50 dark:bg-red-900/30":"bg-blue-50 dark:bg-blue-900/30"),children:[(0,a.jsx)("span",{className:"block text-xs text-slate-500 dark:text-slate-400",children:r("calculator.cable.totalLoss")}),(0,a.jsxs)("span",{className:"text-lg font-bold ".concat(y.warning?"text-red-700 dark:text-red-300":"text-blue-700 dark:text-blue-300"),children:[y.totalLossDb.toFixed(2)," dB"]})]}),(0,a.jsxs)("div",{className:"rounded-md bg-blue-50 dark:bg-blue-900/30 px-4 py-2",children:[(0,a.jsx)("span",{className:"block text-xs text-slate-500 dark:text-slate-400",children:r("calculator.cable.lossPerMeter")}),(0,a.jsxs)("span",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:[y.lossPerMeter.toFixed(3)," dB/m"]})]}),(0,a.jsxs)("div",{className:"rounded-md bg-blue-50 dark:bg-blue-900/30 px-4 py-2",children:[(0,a.jsx)("span",{className:"block text-xs text-slate-500 dark:text-slate-400",children:r("calculator.cable.powerRetained")}),(0,a.jsxs)("span",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:[y.powerRetainedPercent.toFixed(1),"%"]})]})]}),y.warning&&(0,a.jsxs)("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",role:"alert",children:["⚠️ ",r("calculator.cable.warning.highLoss")]})]}),y&&z&&(0,a.jsx)(L,{result:y,input:z}),y&&s&&(0,a.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/50 p-4 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-md font-semibold text-slate-900 dark:text-slate-100 mb-3",children:r("calculator.cable.favorites.title")}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,a.jsx)("input",{type:"text",value:u,onChange:e=>g(e.target.value),placeholder:r("calculator.cable.favorites.placeholder"),className:"flex-1 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-3 py-2 text-sm text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":r("calculator.cable.favorites.nameLabel")}),(0,a.jsx)("button",{onClick:H,disabled:!u.trim(),className:"shrink-0 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r("calculator.cable.favorites.save")})]}),h&&(0,a.jsx)("p",{className:"mt-2 text-xs ".concat("success"===h.type?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),role:"status",children:h.text})]})]})}let E=[{band:"160m",startFreqMHz:1.8,endFreqMHz:1.838,mode:"CW",region:"R1"},{band:"160m",startFreqMHz:1.838,endFreqMHz:1.84,mode:"Digital",region:"R1"},{band:"160m",startFreqMHz:1.84,endFreqMHz:2,mode:"SSB",region:"R1"},{band:"160m",startFreqMHz:1.8,endFreqMHz:1.838,mode:"CW",region:"R2"},{band:"160m",startFreqMHz:1.838,endFreqMHz:1.84,mode:"Digital",region:"R2"},{band:"160m",startFreqMHz:1.84,endFreqMHz:2,mode:"SSB",region:"R2"},{band:"160m",startFreqMHz:1.8,endFreqMHz:1.838,mode:"CW",region:"R3"},{band:"160m",startFreqMHz:1.838,endFreqMHz:1.84,mode:"Digital",region:"R3"},{band:"160m",startFreqMHz:1.84,endFreqMHz:2,mode:"SSB",region:"R3"},{band:"80m",startFreqMHz:3.5,endFreqMHz:3.57,mode:"CW",region:"R1"},{band:"80m",startFreqMHz:3.57,endFreqMHz:3.6,mode:"Digital",region:"R1"},{band:"80m",startFreqMHz:3.6,endFreqMHz:3.8,mode:"SSB",region:"R1"},{band:"80m",startFreqMHz:3.5,endFreqMHz:3.6,mode:"CW",region:"R2"},{band:"80m",startFreqMHz:3.6,endFreqMHz:3.7,mode:"Digital",region:"R2"},{band:"80m",startFreqMHz:3.7,endFreqMHz:3.8,mode:"SSB",region:"R2"},{band:"80m",startFreqMHz:3.8,endFreqMHz:4,mode:"SSB",region:"R2"},{band:"80m",startFreqMHz:3.5,endFreqMHz:3.57,mode:"CW",region:"R3"},{band:"80m",startFreqMHz:3.57,endFreqMHz:3.6,mode:"Digital",region:"R3"},{band:"80m",startFreqMHz:3.6,endFreqMHz:3.9,mode:"SSB",region:"R3"},{band:"40m",startFreqMHz:7,endFreqMHz:7.04,mode:"CW",region:"R1"},{band:"40m",startFreqMHz:7.04,endFreqMHz:7.06,mode:"Digital",region:"R1"},{band:"40m",startFreqMHz:7.06,endFreqMHz:7.2,mode:"SSB",region:"R1"},{band:"40m",startFreqMHz:7,endFreqMHz:7.025,mode:"CW",region:"R2"},{band:"40m",startFreqMHz:7.025,endFreqMHz:7.075,mode:"Digital",region:"R2"},{band:"40m",startFreqMHz:7.075,endFreqMHz:7.3,mode:"SSB",region:"R2"},{band:"40m",startFreqMHz:7,endFreqMHz:7.04,mode:"CW",region:"R3"},{band:"40m",startFreqMHz:7.04,endFreqMHz:7.06,mode:"Digital",region:"R3"},{band:"40m",startFreqMHz:7.06,endFreqMHz:7.3,mode:"SSB",region:"R3"},{band:"30m",startFreqMHz:10.1,endFreqMHz:10.13,mode:"CW",region:"R1"},{band:"30m",startFreqMHz:10.13,endFreqMHz:10.15,mode:"Digital",region:"R1"},{band:"30m",startFreqMHz:10.1,endFreqMHz:10.13,mode:"CW",region:"R2"},{band:"30m",startFreqMHz:10.13,endFreqMHz:10.15,mode:"Digital",region:"R2"},{band:"30m",startFreqMHz:10.1,endFreqMHz:10.13,mode:"CW",region:"R3"},{band:"30m",startFreqMHz:10.13,endFreqMHz:10.15,mode:"Digital",region:"R3"},{band:"20m",startFreqMHz:14,endFreqMHz:14.07,mode:"CW",region:"R1"},{band:"20m",startFreqMHz:14.07,endFreqMHz:14.099,mode:"Digital",region:"R1"},{band:"20m",startFreqMHz:14.099,endFreqMHz:14.101,mode:"Beacon",region:"R1",notes:"IBP beacon network"},{band:"20m",startFreqMHz:14.101,endFreqMHz:14.35,mode:"SSB",region:"R1"},{band:"20m",startFreqMHz:14,endFreqMHz:14.07,mode:"CW",region:"R2"},{band:"20m",startFreqMHz:14.07,endFreqMHz:14.099,mode:"Digital",region:"R2"},{band:"20m",startFreqMHz:14.099,endFreqMHz:14.101,mode:"Beacon",region:"R2",notes:"IBP beacon network"},{band:"20m",startFreqMHz:14.101,endFreqMHz:14.35,mode:"SSB",region:"R2"},{band:"20m",startFreqMHz:14,endFreqMHz:14.07,mode:"CW",region:"R3"},{band:"20m",startFreqMHz:14.07,endFreqMHz:14.099,mode:"Digital",region:"R3"},{band:"20m",startFreqMHz:14.099,endFreqMHz:14.101,mode:"Beacon",region:"R3",notes:"IBP beacon network"},{band:"20m",startFreqMHz:14.101,endFreqMHz:14.35,mode:"SSB",region:"R3"},{band:"17m",startFreqMHz:18.068,endFreqMHz:18.095,mode:"CW",region:"R1"},{band:"17m",startFreqMHz:18.095,endFreqMHz:18.109,mode:"Digital",region:"R1"},{band:"17m",startFreqMHz:18.109,endFreqMHz:18.111,mode:"Beacon",region:"R1",notes:"IBP beacon network"},{band:"17m",startFreqMHz:18.111,endFreqMHz:18.168,mode:"SSB",region:"R1"},{band:"17m",startFreqMHz:18.068,endFreqMHz:18.095,mode:"CW",region:"R2"},{band:"17m",startFreqMHz:18.095,endFreqMHz:18.109,mode:"Digital",region:"R2"},{band:"17m",startFreqMHz:18.109,endFreqMHz:18.111,mode:"Beacon",region:"R2",notes:"IBP beacon network"},{band:"17m",startFreqMHz:18.111,endFreqMHz:18.168,mode:"SSB",region:"R2"},{band:"17m",startFreqMHz:18.068,endFreqMHz:18.095,mode:"CW",region:"R3"},{band:"17m",startFreqMHz:18.095,endFreqMHz:18.109,mode:"Digital",region:"R3"},{band:"17m",startFreqMHz:18.109,endFreqMHz:18.111,mode:"Beacon",region:"R3",notes:"IBP beacon network"},{band:"17m",startFreqMHz:18.111,endFreqMHz:18.168,mode:"SSB",region:"R3"},{band:"15m",startFreqMHz:21,endFreqMHz:21.07,mode:"CW",region:"R1"},{band:"15m",startFreqMHz:21.07,endFreqMHz:21.149,mode:"Digital",region:"R1"},{band:"15m",startFreqMHz:21.149,endFreqMHz:21.151,mode:"Beacon",region:"R1",notes:"IBP beacon network"},{band:"15m",startFreqMHz:21.151,endFreqMHz:21.45,mode:"SSB",region:"R1"},{band:"15m",startFreqMHz:21,endFreqMHz:21.07,mode:"CW",region:"R2"},{band:"15m",startFreqMHz:21.07,endFreqMHz:21.149,mode:"Digital",region:"R2"},{band:"15m",startFreqMHz:21.149,endFreqMHz:21.151,mode:"Beacon",region:"R2",notes:"IBP beacon network"},{band:"15m",startFreqMHz:21.151,endFreqMHz:21.45,mode:"SSB",region:"R2"},{band:"15m",startFreqMHz:21,endFreqMHz:21.07,mode:"CW",region:"R3"},{band:"15m",startFreqMHz:21.07,endFreqMHz:21.149,mode:"Digital",region:"R3"},{band:"15m",startFreqMHz:21.149,endFreqMHz:21.151,mode:"Beacon",region:"R3",notes:"IBP beacon network"},{band:"15m",startFreqMHz:21.151,endFreqMHz:21.45,mode:"SSB",region:"R3"},{band:"12m",startFreqMHz:24.89,endFreqMHz:24.915,mode:"CW",region:"R1"},{band:"12m",startFreqMHz:24.915,endFreqMHz:24.929,mode:"Digital",region:"R1"},{band:"12m",startFreqMHz:24.929,endFreqMHz:24.931,mode:"Beacon",region:"R1",notes:"IBP beacon network"},{band:"12m",startFreqMHz:24.931,endFreqMHz:24.99,mode:"SSB",region:"R1"},{band:"12m",startFreqMHz:24.89,endFreqMHz:24.915,mode:"CW",region:"R2"},{band:"12m",startFreqMHz:24.915,endFreqMHz:24.929,mode:"Digital",region:"R2"},{band:"12m",startFreqMHz:24.929,endFreqMHz:24.931,mode:"Beacon",region:"R2",notes:"IBP beacon network"},{band:"12m",startFreqMHz:24.931,endFreqMHz:24.99,mode:"SSB",region:"R2"},{band:"12m",startFreqMHz:24.89,endFreqMHz:24.915,mode:"CW",region:"R3"},{band:"12m",startFreqMHz:24.915,endFreqMHz:24.929,mode:"Digital",region:"R3"},{band:"12m",startFreqMHz:24.929,endFreqMHz:24.931,mode:"Beacon",region:"R3",notes:"IBP beacon network"},{band:"12m",startFreqMHz:24.931,endFreqMHz:24.99,mode:"SSB",region:"R3"},{band:"10m",startFreqMHz:28,endFreqMHz:28.07,mode:"CW",region:"R1"},{band:"10m",startFreqMHz:28.07,endFreqMHz:28.19,mode:"Digital",region:"R1"},{band:"10m",startFreqMHz:28.19,endFreqMHz:28.225,mode:"Beacon",region:"R1",notes:"Beacon sub-band"},{band:"10m",startFreqMHz:28.225,endFreqMHz:28.3,mode:"Digital",region:"R1"},{band:"10m",startFreqMHz:28.3,endFreqMHz:29.1,mode:"SSB",region:"R1"},{band:"10m",startFreqMHz:29.1,endFreqMHz:29.3,mode:"FM",region:"R1",notes:"FM simplex and repeater input"},{band:"10m",startFreqMHz:29.3,endFreqMHz:29.51,mode:"Digital",region:"R1",notes:"Satellite downlinks"},{band:"10m",startFreqMHz:29.51,endFreqMHz:29.7,mode:"FM",region:"R1",notes:"FM repeater outputs"},{band:"10m",startFreqMHz:28,endFreqMHz:28.07,mode:"CW",region:"R2"},{band:"10m",startFreqMHz:28.07,endFreqMHz:28.19,mode:"Digital",region:"R2"},{band:"10m",startFreqMHz:28.19,endFreqMHz:28.225,mode:"Beacon",region:"R2",notes:"Beacon sub-band"},{band:"10m",startFreqMHz:28.225,endFreqMHz:28.3,mode:"Digital",region:"R2"},{band:"10m",startFreqMHz:28.3,endFreqMHz:29.1,mode:"SSB",region:"R2"},{band:"10m",startFreqMHz:29.1,endFreqMHz:29.3,mode:"FM",region:"R2",notes:"FM simplex and repeater input"},{band:"10m",startFreqMHz:29.3,endFreqMHz:29.51,mode:"Digital",region:"R2",notes:"Satellite downlinks"},{band:"10m",startFreqMHz:29.51,endFreqMHz:29.7,mode:"FM",region:"R2",notes:"FM repeater outputs"},{band:"10m",startFreqMHz:28,endFreqMHz:28.07,mode:"CW",region:"R3"},{band:"10m",startFreqMHz:28.07,endFreqMHz:28.19,mode:"Digital",region:"R3"},{band:"10m",startFreqMHz:28.19,endFreqMHz:28.225,mode:"Beacon",region:"R3",notes:"Beacon sub-band"},{band:"10m",startFreqMHz:28.225,endFreqMHz:28.3,mode:"Digital",region:"R3"},{band:"10m",startFreqMHz:28.3,endFreqMHz:29.1,mode:"SSB",region:"R3"},{band:"10m",startFreqMHz:29.1,endFreqMHz:29.3,mode:"FM",region:"R3",notes:"FM simplex and repeater input"},{band:"10m",startFreqMHz:29.3,endFreqMHz:29.51,mode:"Digital",region:"R3",notes:"Satellite downlinks"},{band:"10m",startFreqMHz:29.51,endFreqMHz:29.7,mode:"FM",region:"R3",notes:"FM repeater outputs"},{band:"6m",startFreqMHz:50,endFreqMHz:50.1,mode:"CW",region:"R1"},{band:"6m",startFreqMHz:50.1,endFreqMHz:50.5,mode:"SSB",region:"R1"},{band:"6m",startFreqMHz:50.5,endFreqMHz:51,mode:"Digital",region:"R1"},{band:"6m",startFreqMHz:51,endFreqMHz:52,mode:"FM",region:"R1"},{band:"6m",startFreqMHz:50,endFreqMHz:50.1,mode:"CW",region:"R2"},{band:"6m",startFreqMHz:50.1,endFreqMHz:50.5,mode:"SSB",region:"R2"},{band:"6m",startFreqMHz:50.5,endFreqMHz:51,mode:"Digital",region:"R2"},{band:"6m",startFreqMHz:51,endFreqMHz:52,mode:"FM",region:"R2"},{band:"6m",startFreqMHz:52,endFreqMHz:54,mode:"FM",region:"R2",notes:"Extended allocation R2"},{band:"6m",startFreqMHz:50,endFreqMHz:50.1,mode:"CW",region:"R3"},{band:"6m",startFreqMHz:50.1,endFreqMHz:50.5,mode:"SSB",region:"R3"},{band:"6m",startFreqMHz:50.5,endFreqMHz:51,mode:"Digital",region:"R3"},{band:"6m",startFreqMHz:51,endFreqMHz:54,mode:"FM",region:"R3"},{band:"2m",startFreqMHz:144,endFreqMHz:144.15,mode:"CW",region:"R1"},{band:"2m",startFreqMHz:144.15,endFreqMHz:144.4,mode:"SSB",region:"R1"},{band:"2m",startFreqMHz:144.4,endFreqMHz:144.49,mode:"Beacon",region:"R1",notes:"Beacon sub-band"},{band:"2m",startFreqMHz:144.49,endFreqMHz:144.8,mode:"Digital",region:"R1"},{band:"2m",startFreqMHz:144.8,endFreqMHz:146,mode:"FM",region:"R1"},{band:"2m",startFreqMHz:144,endFreqMHz:144.1,mode:"CW",region:"R2"},{band:"2m",startFreqMHz:144.1,endFreqMHz:144.4,mode:"SSB",region:"R2"},{band:"2m",startFreqMHz:144.4,endFreqMHz:144.49,mode:"Beacon",region:"R2",notes:"Beacon sub-band"},{band:"2m",startFreqMHz:144.49,endFreqMHz:145,mode:"Digital",region:"R2"},{band:"2m",startFreqMHz:145,endFreqMHz:148,mode:"FM",region:"R2"},{band:"2m",startFreqMHz:144,endFreqMHz:144.1,mode:"CW",region:"R3"},{band:"2m",startFreqMHz:144.1,endFreqMHz:144.4,mode:"SSB",region:"R3"},{band:"2m",startFreqMHz:144.4,endFreqMHz:144.49,mode:"Beacon",region:"R3",notes:"Beacon sub-band"},{band:"2m",startFreqMHz:144.49,endFreqMHz:145,mode:"Digital",region:"R3"},{band:"2m",startFreqMHz:145,endFreqMHz:148,mode:"FM",region:"R3"},{band:"70cm",startFreqMHz:430,endFreqMHz:432,mode:"FM",region:"R1",notes:"FM repeater sub-band"},{band:"70cm",startFreqMHz:432,endFreqMHz:432.1,mode:"CW",region:"R1"},{band:"70cm",startFreqMHz:432.1,endFreqMHz:432.4,mode:"SSB",region:"R1"},{band:"70cm",startFreqMHz:432.4,endFreqMHz:433,mode:"Digital",region:"R1"},{band:"70cm",startFreqMHz:433,endFreqMHz:435,mode:"FM",region:"R1"},{band:"70cm",startFreqMHz:435,endFreqMHz:438,mode:"Digital",region:"R1",notes:"Satellite sub-band"},{band:"70cm",startFreqMHz:438,endFreqMHz:440,mode:"FM",region:"R1",notes:"FM repeater outputs"},{band:"70cm",startFreqMHz:430,endFreqMHz:432,mode:"FM",region:"R2",notes:"FM repeater sub-band"},{band:"70cm",startFreqMHz:432,endFreqMHz:432.1,mode:"CW",region:"R2"},{band:"70cm",startFreqMHz:432.1,endFreqMHz:432.4,mode:"SSB",region:"R2"},{band:"70cm",startFreqMHz:432.4,endFreqMHz:433,mode:"Digital",region:"R2"},{band:"70cm",startFreqMHz:433,endFreqMHz:435,mode:"FM",region:"R2"},{band:"70cm",startFreqMHz:435,endFreqMHz:438,mode:"Digital",region:"R2",notes:"Satellite sub-band"},{band:"70cm",startFreqMHz:438,endFreqMHz:440,mode:"FM",region:"R2",notes:"FM repeater outputs"},{band:"70cm",startFreqMHz:430,endFreqMHz:432,mode:"FM",region:"R3",notes:"FM repeater sub-band"},{band:"70cm",startFreqMHz:432,endFreqMHz:432.1,mode:"CW",region:"R3"},{band:"70cm",startFreqMHz:432.1,endFreqMHz:432.4,mode:"SSB",region:"R3"},{band:"70cm",startFreqMHz:432.4,endFreqMHz:433,mode:"Digital",region:"R3"},{band:"70cm",startFreqMHz:433,endFreqMHz:435,mode:"FM",region:"R3"},{band:"70cm",startFreqMHz:435,endFreqMHz:438,mode:"Digital",region:"R3",notes:"Satellite sub-band"},{band:"70cm",startFreqMHz:438,endFreqMHz:440,mode:"FM",region:"R3",notes:"FM repeater outputs"}],I=["R1","R2","R3"],T=["160m","80m","40m","30m","20m","17m","15m","12m","10m","6m","2m","70cm"],G={CW:{bg:"bg-blue-100",text:"text-blue-800",darkBg:"dark:bg-blue-900/40",darkText:"dark:text-blue-300"},SSB:{bg:"bg-green-100",text:"text-green-800",darkBg:"dark:bg-green-900/40",darkText:"dark:text-green-300"},Digital:{bg:"bg-purple-100",text:"text-purple-800",darkBg:"dark:bg-purple-900/40",darkText:"dark:text-purple-300"},FM:{bg:"bg-orange-100",text:"text-orange-800",darkBg:"dark:bg-orange-900/40",darkText:"dark:text-orange-300"},AM:{bg:"bg-yellow-100",text:"text-yellow-800",darkBg:"dark:bg-yellow-900/40",darkText:"dark:text-yellow-300"},Beacon:{bg:"bg-gray-100",text:"text-gray-800",darkBg:"dark:bg-gray-700/40",darkText:"dark:text-gray-300"}};function _(e){let{onFrequencySelect:t}=e,{t:r}=(0,d.o)(),[l,s]=(0,n.useState)("R2"),[o,i]=(0,n.useState)("all"),[c,m]=(0,n.useState)(null),x=(0,n.useMemo)(()=>{let e=E.filter(e=>e.region===l);return"all"!==o&&(e=e.filter(e=>e.band===o)),e},[l,o]),b=(0,n.useCallback)((e,r)=>{m(r),t((e.startFreqMHz+e.endFreqMHz)/2)},[t]),u=e=>e.toFixed(3);return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/50 p-4 sm:p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:r("calculator.bandPlan.title")}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:r("calculator.bandPlan.regionLabel")}),(0,a.jsx)("div",{className:"flex gap-2",role:"tablist","aria-label":r("calculator.bandPlan.regionLabel"),children:I.map(e=>(0,a.jsx)("button",{role:"tab","aria-selected":l===e,onClick:()=>{s(e),m(null)},className:"px-4 py-2 rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(l===e?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"),children:e},e))}),(0,a.jsx)("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:r("calculator.bandPlan.region.".concat(l))})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"band-filter",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:r("calculator.bandPlan.bandLabel")}),(0,a.jsxs)("select",{id:"band-filter",value:o,onChange:e=>{i(e.target.value),m(null)},className:"w-full sm:w-48 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-3 py-2 text-sm text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:r("calculator.bandPlan.allBands")}),T.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:Object.keys(G).map(e=>{let t=G[e];return(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ".concat(t.bg," ").concat(t.text," ").concat(t.darkBg," ").concat(t.darkText),children:e},e)})})]}),(0,a.jsx)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/50 overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",role:"grid",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700",children:[(0,a.jsx)("th",{className:"px-3 py-2 text-left font-medium text-slate-700 dark:text-slate-300",children:r("calculator.bandPlan.colBand")}),(0,a.jsx)("th",{className:"px-3 py-2 text-left font-medium text-slate-700 dark:text-slate-300",children:r("calculator.bandPlan.colStart")}),(0,a.jsx)("th",{className:"px-3 py-2 text-left font-medium text-slate-700 dark:text-slate-300",children:r("calculator.bandPlan.colEnd")}),(0,a.jsx)("th",{className:"px-3 py-2 text-left font-medium text-slate-700 dark:text-slate-300",children:r("calculator.bandPlan.colMode")}),(0,a.jsx)("th",{className:"px-3 py-2 text-left font-medium text-slate-700 dark:text-slate-300",children:r("calculator.bandPlan.colNotes")})]})}),(0,a.jsx)("tbody",{children:0===x.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:5,className:"px-3 py-8 text-center text-slate-500 dark:text-slate-400",children:r("calculator.bandPlan.noSegments")})}):x.map((e,t)=>{let r=G[e.mode],n=c===t;return(0,a.jsxs)("tr",{role:"row",tabIndex:0,"aria-selected":n,onClick:()=>b(e,t),onKeyDown:r=>{("Enter"===r.key||" "===r.key)&&(r.preventDefault(),b(e,t))},className:"cursor-pointer border-b border-slate-100 dark:border-slate-700/50 transition-colors ".concat(r.bg," ").concat(r.darkBg," ").concat(n?"ring-2 ring-inset ring-blue-500 !bg-blue-50 dark:!bg-blue-900/50":"hover:brightness-95 dark:hover:brightness-125"),children:[(0,a.jsx)("td",{className:"px-3 py-2 font-medium ".concat(r.text," ").concat(r.darkText),children:e.band}),(0,a.jsxs)("td",{className:"px-3 py-2 tabular-nums ".concat(r.text," ").concat(r.darkText),children:[u(e.startFreqMHz)," MHz"]}),(0,a.jsxs)("td",{className:"px-3 py-2 tabular-nums ".concat(r.text," ").concat(r.darkText),children:[u(e.endFreqMHz)," MHz"]}),(0,a.jsx)("td",{className:"px-3 py-2 ".concat(r.text," ").concat(r.darkText),children:(0,a.jsx)("span",{className:"font-medium",children:e.mode})}),(0,a.jsx)("td",{className:"px-3 py-2 text-xs ".concat(r.text," ").concat(r.darkText),children:e.notes||"—"})]},"".concat(e.band,"-").concat(e.startFreqMHz,"-").concat(e.mode,"-").concat(t))})})]})})}),null!==c&&x[c]&&(0,a.jsxs)("div",{className:"rounded-lg border border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/30 p-4",children:[(0,a.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:[r("calculator.bandPlan.selectedFrequency"),":"," ",(0,a.jsxs)("span",{className:"font-bold",children:[u((x[c].startFreqMHz+x[c].endFreqMHz)/2)," ","MHz"]}),(0,a.jsxs)("span",{className:"ml-2 text-xs",children:["(",x[c].band," — ",x[c].mode,")"]})]}),(0,a.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:r("calculator.bandPlan.clickHint")})]})]})}function O(e){let{onLoadFavorite:t}=e,{t:r,language:l}=(0,d.o)(),{favorites:s,deleteFavorite:o,storageAvailable:i}=q(),[c,m]=(0,n.useState)(null),x=(0,n.useCallback)(e=>{c===e?(o(e),m(null)):m(e)},[c,o]),b=(0,n.useCallback)(()=>{m(null)},[]),u=e=>r("calculator.favorites.type.".concat(e));return i?0===s.length?(0,a.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/50 p-4 sm:p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:r("calculator.favorites.title")}),(0,a.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:r("calculator.favorites.empty")})]}):(0,a.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/50 p-4 sm:p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:r("calculator.favorites.title")}),(0,a.jsx)("ul",{className:"space-y-3",role:"list",children:s.map(e=>(0,a.jsx)("li",{className:"rounded-md border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 p-3",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 truncate",children:e.name}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[(0,a.jsx)("span",{className:"inline-flex items-center rounded-full bg-blue-100 dark:bg-blue-900/40 px-2 py-0.5 text-xs font-medium text-blue-700 dark:text-blue-300",children:u(e.type)}),(0,a.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:function(e,t){try{return new Date(e).toLocaleDateString("es"===t?"es-ES":"en-US",{year:"numeric",month:"short",day:"numeric"})}catch(t){return e}}(e.createdAt,l)})]}),(0,a.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:function(e){switch(e.type){case"antenna":{let t=e.params,r="dipole"===t.type?"Dipolo":"vertical"===t.type?"Vertical":"yagi"===t.type?"Yagi":"Loop";return"".concat(r," @ ").concat(t.frequencyMHz," MHz")}case"swr":{let t=e.params;return"".concat(t.antennaImpedance,"Ω / ").concat(t.lineImpedance,"Ω")}case"cable-loss":{let t=e.params;return"".concat(t.cableType,", ").concat(t.lengthMeters,"m @ ").concat(t.frequencyMHz," MHz")}default:return""}}(e)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 shrink-0",children:[(0,a.jsx)("button",{onClick:()=>t(e),className:"rounded-md bg-blue-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors","aria-label":"".concat(r("calculator.favorites.load")," ").concat(e.name),children:r("calculator.favorites.load")}),c===e.id?(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("button",{onClick:()=>x(e.id),className:"rounded-md bg-red-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors","aria-label":"".concat(r("calculator.favorites.confirmDelete")," ").concat(e.name),children:r("calculator.favorites.confirmDelete")}),(0,a.jsx)("button",{onClick:b,className:"rounded-md border border-slate-300 dark:border-slate-600 px-3 py-1.5 text-xs font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-slate-500 transition-colors",children:r("calculator.favorites.cancel")})]}):(0,a.jsx)("button",{onClick:()=>x(e.id),className:"rounded-md border border-red-300 dark:border-red-700 px-3 py-1.5 text-xs font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors","aria-label":"".concat(r("calculator.favorites.delete")," ").concat(e.name),children:r("calculator.favorites.delete")})]})]})},e.id))})]}):(0,a.jsx)("div",{className:"rounded-lg border border-yellow-200 dark:border-yellow-800 bg-yellow-50 dark:bg-yellow-900/30 p-4 sm:p-6",children:(0,a.jsxs)("p",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:["⚠️ ",r("calculator.favorites.storageUnavailable")]})})}function V(){let{t:e}=(0,d.o)(),[t,r]=(0,n.useState)("antenna"),[l,c]=(0,n.useState)(null),x=(0,n.useCallback)(e=>{c(e)},[]),b=(0,n.useCallback)(e=>{let t={antenna:"antenna",swr:"swr","cable-loss":"cable-loss"}[e.type];t&&r(t)},[]);return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-5xl",children:[(0,a.jsx)("div",{className:"flex justify-center mb-6",children:(0,a.jsx)(i.Ay,{slot:"header",size:i.Ds.header.desktop,mobileSize:i.Ds.header.mobile})}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)(s(),{href:"/",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white transition-colors mb-4",children:[(0,a.jsx)(o.A,{className:"w-5 h-5"}),e("common.back")]}),(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 dark:text-white",children:e("calculator.page.title")})]}),(0,a.jsx)(m,{activeTab:t,onTabChange:r}),(0,a.jsxs)("div",{id:"panel-".concat(t),role:"tabpanel","aria-labelledby":"tab-".concat(t),className:"mt-6",children:["antenna"===t&&(0,a.jsx)(v,{onFrequencyChange:x}),"swr"===t&&(0,a.jsx)(W,{}),"cable-loss"===t&&(0,a.jsx)(A,{initialFrequency:null!=l?l:void 0}),"band-plan"===t&&(0,a.jsx)(_,{onFrequencySelect:x})]}),(0,a.jsx)("div",{className:"flex justify-center my-8",children:(0,a.jsx)(i.Ay,{slot:"in-content",size:i.Ds["in-content"].desktop,mobileSize:i.Ds["in-content"].mobile})}),(0,a.jsx)(O,{onLoadFavorite:b})]})})}},7550:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7565:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>i,Ds:()=>s,vt:()=>d});var a=r(5155),n=r(2115),l=r(8524);let s={header:{desktop:{width:728,height:90},mobile:{width:320,height:50}},sidebar:{desktop:{width:300,height:250},mobile:{width:300,height:250}},"in-content":{desktop:{width:728,height:90},mobile:{width:300,height:250}},footer:{desktop:{width:728,height:90},mobile:{width:320,height:50}}},o={header:"9651802619",sidebar:"1932368348","in-content":"1433674891",footer:"7703569776"},d=e=>{let{slot:t,size:r,mobileSize:s,className:d}=e,{config:i}=(0,l.V)(),[c,m]=(0,n.useState)(!1),x=(0,n.useRef)(null),b=(0,n.useRef)(!1);(0,n.useEffect)(()=>{let e=()=>{m(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,n.useEffect)(()=>{if(i.enabled&&"adsense"===i.provider&&!b.current)try{(window.adsbygoogle||[]).push({}),b.current=!0}catch(e){}},[!1,i.enabled,i.provider]);let u=c&&s?s:r;return i.enabled&&"none"!==i.provider?(0,a.jsx)("div",{"data-testid":"ad-placeholder-".concat(t),"data-slot":t,className:d,style:{display:"flex",justifyContent:"center",overflow:"hidden"},children:(0,a.jsx)("ins",{ref:x,className:"adsbygoogle",style:{display:"inline-block",width:u.width,height:u.height},"data-ad-client":i.clientId,"data-ad-slot":o[t]})}):null},i=d},8524:(e,t,r)=>{"use strict";r.d(t,{AdProvider:()=>o,V:()=>d});var a=r(5155),n=r(2115);let l={provider:"adsense",enabled:!1,clientId:"ca-pub-5253207380343267"},s=(0,n.createContext)(void 0),o=e=>{let{children:t}=e;return(0,a.jsx)(s.Provider,{value:{config:l},children:t})},d=()=>{let e=(0,n.useContext)(s);if(void 0===e)throw Error("useAd must be used within an AdProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[95,775,441,684,358],()=>t(306)),_N_E=e.O()}]);